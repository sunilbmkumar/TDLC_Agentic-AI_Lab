"use strict";exports.id=307,exports.ids=[307],exports.modules={71295:(fe,z,r)=>{r.d(z,{CG:()=>n,Y2:()=>w,cJ:()=>F});var A=r(58362);const w=(S,c)=>(0,A.w)(S,c).then(l=>{if(l.length)try{return JSON.parse(l)}catch(m){throw m?.name==="SyntaxError"&&Object.defineProperty(m,"$responseBodyText",{value:l}),m}return{}}),n=async(S,c)=>{const l=await w(S,c);return l.message=l.message??l.Message,l},F=(S,c)=>{const l=(v,d)=>Object.keys(v).find(L=>L.toLowerCase()===d.toLowerCase()),m=v=>{let d=v;return typeof d=="number"&&(d=d.toString()),d.indexOf(",")>=0&&(d=d.split(",")[0]),d.indexOf(":")>=0&&(d=d.split(":")[0]),d.indexOf("#")>=0&&(d=d.split("#")[1]),d},f=l(S.headers,"x-amzn-errortype");if(f!==void 0)return m(S.headers[f]);if(c.code!==void 0)return m(c.code);if(c.__type!==void 0)return m(c.__type)}},58307:(fe,z,r)=>{r.d(z,{GetRoleCredentialsCommand:()=>Ne,SSOClient:()=>st});var A=r(34546),w=r(8029),n=r(23007);const F=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),S={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class c extends n.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,c.prototype)}}class l extends c{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,l.prototype)}}class m extends c{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,m.prototype)}}class f extends c{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,f.prototype)}}class v extends c{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,v.prototype)}}const d=e=>({...e,...e.accessToken&&{accessToken:n.SENSITIVE_STRING}}),L=e=>({...e,...e.secretAccessKey&&{secretAccessKey:n.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:n.SENSITIVE_STRING}}),xe=e=>({...e,...e.roleCredentials&&{roleCredentials:L(e.roleCredentials)}}),it=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),dt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),ct=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}});var G=r(71295),C=r(25158);const Ee=async(e,t)=>{const s=(0,C.lI)(e,t),o=(0,n.map)({},n.isSerializableHeaderValue,{[O]:e[N]});s.bp("/federation/credentials");const a=(0,n.map)({[Te]:[,(0,n.expectNonNull)(e[we],"roleName")],[B]:[,(0,n.expectNonNull)(e[M],"accountId")]});let i;return s.m("GET").h(o).q(a).b(i),s.build()},lt=async(e,t)=>{const s=rb(e,t),o=map({},isSerializableHeaderValue,{[O]:e[N]});s.bp("/assignment/roles");const a=map({[Z]:[,e[K]],[J]:[()=>e.maxResults!==void 0,()=>e[j].toString()],[B]:[,__expectNonNull(e[M],"accountId")]});let i;return s.m("GET").h(o).q(a).b(i),s.build()},ut=async(e,t)=>{const s=rb(e,t),o=map({},isSerializableHeaderValue,{[O]:e[N]});s.bp("/assignment/accounts");const a=map({[Z]:[,e[K]],[J]:[()=>e.maxResults!==void 0,()=>e[j].toString()]});let i;return s.m("GET").h(o).q(a).b(i),s.build()},pt=async(e,t)=>{const s=rb(e,t),o=map({},isSerializableHeaderValue,{[O]:e[N]});s.bp("/logout");let a;return s.m("POST").h(o).b(a),s.build()},Re=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T(e,t);const s=(0,n.map)({$metadata:g(e)}),o=(0,n.expectNonNull)((0,n.expectObject)(await(0,G.Y2)(e.body,t)),"body"),a=(0,n.take)(o,{roleCredentials:n._json});return Object.assign(s,a),s},ht=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T(e,t);const s=map({$metadata:g(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,t)),"body"),a=take(o,{nextToken:__expectString,roleList:_json});return Object.assign(s,a),s},mt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T(e,t);const s=map({$metadata:g(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,t)),"body"),a=take(o,{accountList:_json,nextToken:__expectString});return Object.assign(s,a),s},yt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T(e,t);const s=map({$metadata:g(e)});return await collectBody(e.body,t),s},T=async(e,t)=>{const s={...e,body:await(0,G.CG)(e.body,t)},o=(0,G.cJ)(e,s.body);switch(o){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Ce(s,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await be(s,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Pe(s,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ae(s,t);default:const a=s.body;return Ie({output:e,parsedBody:a,errorCode:o})}},Ie=(0,n.withBaseException)(c),Ce=async(e,t)=>{const s=(0,n.map)({}),o=e.body,a=(0,n.take)(o,{message:n.expectString});Object.assign(s,a);const i=new l({$metadata:g(e),...s});return(0,n.decorateServiceException)(i,e.body)},be=async(e,t)=>{const s=(0,n.map)({}),o=e.body,a=(0,n.take)(o,{message:n.expectString});Object.assign(s,a);const i=new m({$metadata:g(e),...s});return(0,n.decorateServiceException)(i,e.body)},Pe=async(e,t)=>{const s=(0,n.map)({}),o=e.body,a=(0,n.take)(o,{message:n.expectString});Object.assign(s,a);const i=new f({$metadata:g(e),...s});return(0,n.decorateServiceException)(i,e.body)},Ae=async(e,t)=>{const s=(0,n.map)({}),o=e.body,a=(0,n.take)(o,{message:n.expectString});Object.assign(s,a);const i=new v({$metadata:g(e),...s});return(0,n.decorateServiceException)(i,e.body)},g=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),St=(e,t)=>collectBody(e,t).then(s=>t.utf8Encoder(s)),M="accountId",N="accessToken",B="account_id",j="maxResults",J="max_result",K="nextToken",Z="next_token",we="roleName",Te="role_name",O="x-amz-sso_bearer_token";class Ne extends n.Command.classBuilder().ep(S).m(function(t,s,o,a){return[(0,w.TM)(o,this.serialize,this.deserialize),(0,A.rD)(o,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(d,xe).ser(Ee).de(Re).build(){}var W=r(45703),Oe=r(90111),ke=r(2649),q=r(16241),b=r(57801),De=r(51320),k=r(25263),_e=r(44421),Y=r(42952);const ze=async(e,t,s)=>({operation:(0,Y.u)(t).operation,region:await(0,Y.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Fe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,s)=>({signingProperties:{config:t,context:s}})}}function D(e){return{schemeId:"smithy.api#noAuth"}}const Le=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":{t.push(D(e));break}case"ListAccountRoles":{t.push(D(e));break}case"ListAccounts":{t.push(D(e));break}case"Logout":{t.push(D(e));break}default:t.push(Fe(e))}return t},Ge=e=>({...(0,_e.h)(e)}),$e={rE:"3.693.0"};var Ve=r(45570),Q=r(52039),Ue=r(51461),x=r(75854),X=r(32117),He=r(88226),Me=r(94134),Be=r(93482),je=r(42640),ee=r(61821),te=r(82869),Je=r(22780),$=r(5332);const se="required",u="fn",p="argv",E="ref",ne=!0,oe="isSet",P="booleanEquals",R="error",I="endpoint",y="tree",V="PartitionResult",U="getAttr",re={[se]:!1,type:"String"},ae={[se]:!0,default:!1,type:"Boolean"},ie={[E]:"Endpoint"},de={[u]:P,[p]:[{[E]:"UseFIPS"},!0]},ce={[u]:P,[p]:[{[E]:"UseDualStack"},!0]},h={},le={[u]:U,[p]:[{[E]:V},"supportsFIPS"]},ue={[E]:V},pe={[u]:P,[p]:[!0,{[u]:U,[p]:[ue,"supportsDualStack"]}]},he=[de],me=[ce],ye=[{[E]:"Region"}],Ke={version:"1.0",parameters:{Region:re,UseDualStack:ae,UseFIPS:ae,Endpoint:re},rules:[{conditions:[{[u]:oe,[p]:[ie]}],rules:[{conditions:he,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:R},{conditions:me,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:R},{endpoint:{url:ie,properties:h,headers:h},type:I}],type:y},{conditions:[{[u]:oe,[p]:ye}],rules:[{conditions:[{[u]:"aws.partition",[p]:ye,assign:V}],rules:[{conditions:[de,ce],rules:[{conditions:[{[u]:P,[p]:[ne,le]},pe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:h,headers:h},type:I}],type:y},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:R}],type:y},{conditions:he,rules:[{conditions:[{[u]:P,[p]:[le,ne]}],rules:[{conditions:[{[u]:"stringEquals",[p]:[{[u]:U,[p]:[ue,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:h,headers:h},type:I},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:h,headers:h},type:I}],type:y},{error:"FIPS is enabled but this partition does not support FIPS",type:R}],type:y},{conditions:me,rules:[{conditions:[pe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:h,headers:h},type:I}],type:y},{error:"DualStack is enabled but this partition does not support DualStack",type:R}],type:y},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:h,headers:h},type:I}],type:y}],type:y},{error:"Invalid Configuration: Missing Region",type:R}]},Ze=new $.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),We=(e,t={})=>Ze.get(e,()=>(0,$.sO)(Ke,{endpointParams:e,logger:t.logger}));$.mw.aws=Je.UF;const qe=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??ee.E,base64Encoder:e?.base64Encoder??ee.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??We,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Le,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Be.f2},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new C.mR}],logger:e?.logger??new n.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??je.D,utf8Decoder:e?.utf8Decoder??te.ar,utf8Encoder:e?.utf8Encoder??te.Pq});var Ye=r(12165);const Qe=e=>{(0,n.emitWarningIfUnsupportedVersion)(process.version);const t=(0,Ye.I)(e),s=()=>t().then(n.loadConfigsForDefaultMode),o=qe(e);return(0,Ve.I)(process.version),{...o,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??He.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Q.pf)({serviceId:o.serviceId,clientVersion:$e.rE}),maxAttempts:e?.maxAttempts??(0,x.Z)(k.qs),region:e?.region??(0,x.Z)(b.GG,b.zH),requestHandler:X.$c.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,x.Z)({...k.kN,default:async()=>(await s()).retryMode||Me.L0}),sha256:e?.sha256??Ue.V.bind(null,"sha256"),streamCollector:e?.streamCollector??X.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,x.Z)(b.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,x.Z)(b.Ko),userAgentAppId:e?.userAgentAppId??(0,x.Z)(Q.hV)}};var Se=r(54848),ge=r(90130);const Xe=e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(a){const i=t.findIndex(H=>H.schemeId===a.schemeId);i===-1?t.push(a):t.splice(i,1,a)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(a){s=a},httpAuthSchemeProvider(){return s},setCredentials(a){o=a},credentials(){return o}}},et=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),_=e=>e,tt=(e,t)=>{const s={..._((0,Se.Rq)(e)),..._((0,n.getDefaultExtensionConfiguration)(e)),..._((0,ge.eS)(e)),..._(Xe(e))};return t.forEach(o=>o.configure(s)),{...e,...(0,Se.$3)(s),...(0,n.resolveDefaultRuntimeConfig)(s),...(0,ge.jt)(s),...et(s)}};class st extends n.Client{constructor(...[t]){const s=Qe(t||{}),o=F(s),a=(0,q.Dc)(o),i=(0,k.$z)(a),H=(0,b.TD)(i),nt=(0,W.OV)(H),ot=(0,A.Co)(nt),rt=Ge(ot),ve=tt(rt,t?.extensions||[]);super(ve),this.config=ve,this.middlewareStack.use((0,q.sM)(this.config)),this.middlewareStack.use((0,k.ey)(this.config)),this.middlewareStack.use((0,De.vK)(this.config)),this.middlewareStack.use((0,W.TC)(this.config)),this.middlewareStack.use((0,Oe.Y7)(this.config)),this.middlewareStack.use((0,ke.n4)(this.config)),this.middlewareStack.use((0,C.wB)(this.config,{httpAuthSchemeParametersProvider:ze,identityProviderConfigProvider:async at=>new C.h$({"aws.auth#sigv4":at.credentials})})),this.middlewareStack.use((0,C.lW)(this.config))}destroy(){super.destroy()}}}};
