"use strict";exports.id=539,exports.ids=[539],exports.modules={20477:(oe,J,S)=>{S.d(J,{Px:()=>R,lI:()=>g});var k=S(57954);const R=async(w=new Uint8Array,c)=>{if(w instanceof Uint8Array)return k.Mu.mutate(w);if(!w)return k.Mu.mutate(new Uint8Array);const T=c.streamCollector(w);return k.Mu.mutate(await T)};var z=S(78161);function Q(w){return encodeURIComponent(w).replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}const h=(w,c,T,Z,ce,ie)=>{if(c!=null&&c[T]!==void 0){const ne=Z();if(ne.length<=0)throw new Error("Empty value provided for input HTTP label: "+T+".");w=w.replace(ce,ie?ne.split("/").map(le=>Q(le)).join("/"):Q(ne))}else throw new Error("No value provided for input HTTP label: "+T+".");return w};function g(w,c){return new P(w,c)}class P{constructor(c,T){this.input=c,this.context=T,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:c,protocol:T="https",port:Z,path:ce}=await this.context.endpoint();this.path=ce;for(const ie of this.resolvePathStack)ie(this.path);return new z.Kd({protocol:T,hostname:this.hostname||c,port:Z,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(c){return this.hostname=c,this}bp(c){return this.resolvePathStack.push(T=>{this.path=`${T?.endsWith("/")?T.slice(0,-1):T||""}`+c}),this}p(c,T,Z,ce){return this.resolvePathStack.push(ie=>{this.path=h(ie,this.input,c,T,Z,ce)}),this}h(c){return this.headers=c,this}q(c){return this.query=c,this}b(c){return this.body=c,this}m(c){return this.method=c,this}}},709:(oe,J,S)=>{S.d(J,{m:()=>k});const k=R=>typeof ArrayBuffer=="function"&&R instanceof ArrayBuffer||Object.prototype.toString.call(R)==="[object ArrayBuffer]"},57573:(oe,J,S)=>{S.d(J,{$c:()=>se,kv:()=>xe});var k=S(78161),R=S(16309);function z(p){const r=[];for(let a of Object.keys(p).sort()){const f=p[a];if(a=(0,R.o)(a),Array.isArray(f))for(let C=0,x=f.length;C<x;C++)r.push(`${a}=${(0,R.o)(f[C])}`);else{let C=a;(f||typeof f=="string")&&(C+=`=${(0,R.o)(f)}`),r.push(C)}}return r.join("&")}var Q=S(58611),h=S(65692);const g=["ECONNRESET","EPIPE","ETIMEDOUT"],P=p=>{const r={};for(const a of Object.keys(p)){const f=p[a];r[a]=Array.isArray(f)?f.join(","):f}return r},w={setTimeout:(p,r)=>setTimeout(p,r),clearTimeout:p=>clearTimeout(p)},c=1e3,T=(p,r,a=0)=>{if(!a)return-1;const f=C=>{const x=w.setTimeout(()=>{p.destroy(),r(Object.assign(new Error(`Socket timed out without establishing a connection within ${a} ms`),{name:"TimeoutError"}))},a-C),s=n=>{n?.connecting?n.on("connect",()=>{w.clearTimeout(x)}):w.clearTimeout(x)};p.socket?s(p.socket):p.on("socket",s)};return a<2e3?(f(0),0):w.setTimeout(f.bind(null,c),c)},Z=3e3,ce=(p,{keepAlive:r,keepAliveMsecs:a},f=Z)=>{if(r!==!0)return-1;const C=()=>{p.socket?p.socket.setKeepAlive(r,a||0):p.on("socket",x=>{x.setKeepAlive(r,a||0)})};return f===0?(C(),0):w.setTimeout(C,f)},ie=3e3,ne=(p,r,a=Ce)=>{const f=C=>{const x=a-C,s=()=>{p.destroy(),r(Object.assign(new Error(`Connection timed out after ${a} ms`),{name:"TimeoutError"}))};p.socket?(p.socket.setTimeout(x,s),p.on("close",()=>p.socket?.removeListener("timeout",s))):p.setTimeout(x,s)};return 0<a&&a<6e3?(f(0),0):w.setTimeout(f.bind(null,a===0?0:ie),ie)};var le=S(2203);const de=6e3;async function he(p,r,a=de){const f=r.headers??{},C=f.Expect||f.expect;let x=-1,s=!0;C==="100-continue"&&(s=await Promise.race([new Promise(n=>{x=Number(w.setTimeout(()=>n(!0),Math.max(de,a)))}),new Promise(n=>{p.on("continue",()=>{w.clearTimeout(x),n(!0)}),p.on("response",()=>{w.clearTimeout(x),n(!1)}),p.on("error",()=>{w.clearTimeout(x),n(!1)})})])),s&&Me(p,r.body)}function Me(p,r){if(r instanceof le.Readable){r.pipe(p);return}if(r){if(Buffer.isBuffer(r)||typeof r=="string"){p.end(r);return}const a=r;if(typeof a=="object"&&a.buffer&&typeof a.byteOffset=="number"&&typeof a.byteLength=="number"){p.end(Buffer.from(a.buffer,a.byteOffset,a.byteLength));return}p.end(Buffer.from(r));return}p.end()}const Ce=0;class se{static create(r){return typeof r?.handle=="function"?r:new se(r)}static checkSocketUsage(r,a,f=console){const{sockets:C,requests:x,maxSockets:s}=r;if(typeof s!="number"||s===1/0)return a;const n=15e3;if(Date.now()-n<a)return a;if(C&&x)for(const u in C){const d=C[u]?.length??0,l=x[u]?.length??0;if(d>=s&&l>=2*s)return f?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${l} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return a}constructor(r){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((a,f)=>{typeof r=="function"?r().then(C=>{a(this.resolveDefaultConfig(C))}).catch(f):a(this.resolveDefaultConfig(r))})}resolveDefaultConfig(r){const{requestTimeout:a,connectionTimeout:f,socketTimeout:C,socketAcquisitionWarningTimeout:x,httpAgent:s,httpsAgent:n}=r||{},u=!0,d=50;return{connectionTimeout:f,requestTimeout:a??C,socketAcquisitionWarningTimeout:x,httpAgent:(()=>s instanceof Q.Agent||typeof s?.destroy=="function"?s:new Q.Agent({keepAlive:u,maxSockets:d,...s}))(),httpsAgent:(()=>n instanceof h.Agent||typeof n?.destroy=="function"?n:new h.Agent({keepAlive:u,maxSockets:d,...n}))(),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(r,{abortSignal:a}={}){return this.config||(this.config=await this.configProvider),new Promise((f,C)=>{let x;const s=[],n=async A=>{await x,s.forEach(w.clearTimeout),f(A)},u=async A=>{await x,s.forEach(w.clearTimeout),C(A)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(a?.aborted){const A=new Error("Request aborted");A.name="AbortError",u(A);return}const d=r.protocol==="https:",l=d?this.config.httpsAgent:this.config.httpAgent;s.push(w.setTimeout(()=>{this.socketWarningTimestamp=se.checkSocketUsage(l,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));const I=z(r.query||{});let F;if(r.username!=null||r.password!=null){const A=r.username??"",V=r.password??"";F=`${A}:${V}`}let N=r.path;I&&(N+=`?${I}`),r.fragment&&(N+=`#${r.fragment}`);let $=r.hostname??"";$[0]==="["&&$.endsWith("]")?$=r.hostname.slice(1,-1):$=r.hostname;const L={headers:r.headers,host:$,method:r.method,path:N,port:r.port,agent:l,auth:F},j=(d?h.request:Q.request)(L,A=>{const V=new k.cS({statusCode:A.statusCode||-1,reason:A.statusMessage,headers:P(A.headers),body:A});n({response:V})});if(j.on("error",A=>{g.includes(A.code)?u(Object.assign(A,{name:"TimeoutError"})):u(A)}),a){const A=()=>{j.destroy();const V=new Error("Request aborted");V.name="AbortError",u(V)};if(typeof a.addEventListener=="function"){const V=a;V.addEventListener("abort",A,{once:!0}),j.once("close",()=>V.removeEventListener("abort",A))}else a.onabort=A}s.push(T(j,u,this.config.connectionTimeout)),s.push(ne(j,u,this.config.requestTimeout));const re=L.agent;typeof re=="object"&&"keepAlive"in re&&s.push(ce(j,{keepAlive:re.keepAlive,keepAliveMsecs:re.keepAliveMsecs})),x=he(j,r,this.config.requestTimeout).catch(A=>(s.forEach(w.clearTimeout),C(A)))})}updateHttpClientConfig(r,a){this.config=void 0,this.configProvider=this.configProvider.then(f=>({...f,[r]:a}))}httpHandlerConfigs(){return this.config??{}}}var pe=S(85675);class ye{constructor(r){this.sessions=[],this.sessions=r??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(r){this.sessions.push(r)}contains(r){return this.sessions.includes(r)}remove(r){this.sessions=this.sessions.filter(a=>a!==r)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(r){for(const a of this.sessions)a===r&&(a.destroyed||a.destroy())}}class Pe{constructor(r){if(this.sessionCache=new Map,this.config=r,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(r,a){const f=this.getUrlString(r),C=this.sessionCache.get(f);if(C){const u=C.poll();if(u&&!this.config.disableConcurrency)return u}const x=http2.connect(f);this.config.maxConcurrency&&x.settings({maxConcurrentStreams:this.config.maxConcurrency},u=>{if(u)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+r.destination.toString())}),x.unref();const s=()=>{x.destroy(),this.deleteSession(f,x)};x.on("goaway",s),x.on("error",s),x.on("frameError",s),x.on("close",()=>this.deleteSession(f,x)),a.requestTimeout&&x.setTimeout(a.requestTimeout,s);const n=this.sessionCache.get(f)||new NodeHttp2ConnectionPool;return n.offerLast(x),this.sessionCache.set(f,n),x}deleteSession(r,a){const f=this.sessionCache.get(r);!f||!f.contains(a)||(f.remove(a),this.sessionCache.set(r,f))}release(r,a){const f=this.getUrlString(r);this.sessionCache.get(f)?.offerLast(a)}destroy(){for(const[r,a]of this.sessionCache){for(const f of a)f.destroyed||f.destroy(),a.remove(f);this.sessionCache.delete(r)}}setMaxConcurrentStreams(r){if(r&&r<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=r}setDisableConcurrentStreams(r){this.config.disableConcurrency=r}getUrlString(r){return r.destination.toString()}}class ge{static create(r){return typeof r?.handle=="function"?r:new ge(r)}constructor(r){this.metadata={handlerProtocol:"h2"},this.connectionManager=new NodeHttp2ConnectionManager({}),this.configProvider=new Promise((a,f)=>{typeof r=="function"?r().then(C=>{a(C||{})}).catch(f):a(r||{})})}destroy(){this.connectionManager.destroy()}async handle(r,{abortSignal:a}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));const{requestTimeout:f,disableConcurrentStreams:C}=this.config;return new Promise((x,s)=>{let n=!1,u;const d=async v=>{await u,x(v)},l=async v=>{await u,s(v)};if(a?.aborted){n=!0;const v=new Error("Request aborted");v.name="AbortError",l(v);return}const{hostname:I,method:F,port:N,protocol:$,query:L}=r;let Y="";if(r.username!=null||r.password!=null){const v=r.username??"",G=r.password??"";Y=`${v}:${G}@`}const j=`${$}//${Y}${I}${N?`:${N}`:""}`,re={destination:new URL(j)},A=this.connectionManager.lease(re,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:C||!1}),V=v=>{C&&this.destroySession(A),n=!0,l(v)},be=buildQueryString(L||{});let me=r.path;be&&(me+=`?${be}`),r.fragment&&(me+=`#${r.fragment}`);const D=A.request({...r.headers,[constants.HTTP2_HEADER_PATH]:me,[constants.HTTP2_HEADER_METHOD]:F});if(A.ref(),D.on("response",v=>{const G=new HttpResponse({statusCode:v[":status"]||-1,headers:getTransformedHeaders(v),body:D});n=!0,d({response:G}),C&&(A.close(),this.connectionManager.deleteSession(j,A))}),f&&D.setTimeout(f,()=>{D.close();const v=new Error(`Stream timed out because of no activity for ${f} ms`);v.name="TimeoutError",V(v)}),a){const v=()=>{D.close();const G=new Error("Request aborted");G.name="AbortError",V(G)};if(typeof a.addEventListener=="function"){const G=a;G.addEventListener("abort",v,{once:!0}),D.once("close",()=>G.removeEventListener("abort",v))}else a.onabort=v}D.on("frameError",(v,G,fe)=>{V(new Error(`Frame type id ${v} in stream id ${fe} has failed with code ${G}.`))}),D.on("error",V),D.on("aborted",()=>{V(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${D.rstCode}.`))}),D.on("close",()=>{A.unref(),C&&A.destroy(),n||V(new Error("Unexpected error: http2 request did not get a response"))}),u=writeRequestBody(D,r,f)})}updateHttpClientConfig(r,a){this.config=void 0,this.configProvider=this.configProvider.then(f=>({...f,[r]:a}))}httpHandlerConfigs(){return this.config??{}}destroySession(r){r.destroyed||r.destroy()}}class we extends le.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(r,a,f){this.bufferedBytes.push(r),f()}}const xe=p=>$e(p)?ke(p):new Promise((r,a)=>{const f=new we;p.pipe(f),p.on("error",C=>{f.end(),a(C)}),f.on("error",a),f.on("finish",function(){const C=new Uint8Array(Buffer.concat(this.bufferedBytes));r(C)})}),$e=p=>typeof ReadableStream=="function"&&p instanceof ReadableStream;async function ke(p){const r=[],a=p.getReader();let f=!1,C=0;for(;!f;){const{done:n,value:u}=await a.read();u&&(r.push(u),C+=u.length),f=n}const x=new Uint8Array(C);let s=0;for(const n of r)x.set(n,s),s+=n.length;return x}},78161:(oe,J,S)=>{S.d(J,{Kd:()=>h,cS:()=>P,eS:()=>k,jt:()=>R});const k=w=>{let c=w.httpHandler;return{setHttpHandler(T){c=T},httpHandler(){return c},updateHttpClientConfig(T,Z){c.updateHttpClientConfig(T,Z)},httpHandlerConfigs(){return c.httpHandlerConfigs()}}},R=w=>({httpHandler:w.httpHandler()});var z=S(72901);class Q{constructor({name:c,kind:T=FieldPosition.HEADER,values:Z=[]}){this.name=c,this.kind=T,this.values=Z}add(c){this.values.push(c)}set(c){this.values=c}remove(c){this.values=this.values.filter(T=>T!==c)}toString(){return this.values.map(c=>c.includes(",")||c.includes(" ")?`"${c}"`:c).join(", ")}get(){return this.values}}class h{constructor(c){this.method=c.method||"GET",this.hostname=c.hostname||"localhost",this.port=c.port,this.query=c.query||{},this.headers=c.headers||{},this.body=c.body,this.protocol=c.protocol?c.protocol.slice(-1)!==":"?`${c.protocol}:`:c.protocol:"https:",this.path=c.path?c.path.charAt(0)!=="/"?`/${c.path}`:c.path:"/",this.username=c.username,this.password=c.password,this.fragment=c.fragment}static clone(c){const T=new h({...c,headers:{...c.headers}});return T.query&&(T.query=g(T.query)),T}static isInstance(c){if(!c)return!1;const T=c;return"method"in T&&"protocol"in T&&"hostname"in T&&"path"in T&&typeof T.query=="object"&&typeof T.headers=="object"}clone(){return h.clone(this)}}function g(w){return Object.keys(w).reduce((c,T)=>{const Z=w[T];return{...c,[T]:Array.isArray(Z)?[...Z]:Z}},{})}class P{constructor(c){this.statusCode=c.statusCode,this.reason=c.reason,this.headers=c.headers||{},this.body=c.body}static isInstance(c){if(!c)return!1;const T=c;return typeof T.statusCode=="number"&&typeof T.headers=="object"}}},93539:(oe,J,S)=>{S.d(J,{Kj:()=>g,uB:()=>c,N4:()=>ot,$H:()=>Z,TJ:()=>Se,Ss:()=>Be,Px:()=>P.Px,Mw:()=>Ne,I9:()=>Xe,Y0:()=>ge,Xk:()=>we,lK:()=>xe,xA:()=>rt,eU:()=>st,lT:()=>Ke,Tj:()=>ve,EI:()=>V,uv:()=>nt,s:()=>it,jr:()=>Ge});const k=(e,t)=>{const o=[];if(e&&o.push(e),t)for(const i of t)o.push(i);return o},R=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,z=()=>{let e=[],t=[],o=!1;const i=new Set,m=y=>y.sort((b,_)=>Q[_.step]-Q[b.step]||h[_.priority||"normal"]-h[b.priority||"normal"]),E=y=>{let b=!1;const _=W=>{const q=k(W.name,W.aliases);if(q.includes(y)){b=!0;for(const M of q)i.delete(M);return!1}return!0};return e=e.filter(_),t=t.filter(_),b},B=y=>{let b=!1;const _=W=>{if(W.middleware===y){b=!0;for(const q of k(W.name,W.aliases))i.delete(q);return!1}return!0};return e=e.filter(_),t=t.filter(_),b},O=y=>(e.forEach(b=>{y.add(b.middleware,{...b})}),t.forEach(b=>{y.addRelativeTo(b.middleware,{...b})}),y.identifyOnResolve?.(ee.identifyOnResolve()),y),U=y=>{const b=[];return y.before.forEach(_=>{_.before.length===0&&_.after.length===0?b.push(_):b.push(...U(_))}),b.push(y),y.after.reverse().forEach(_=>{_.before.length===0&&_.after.length===0?b.push(_):b.push(...U(_))}),b},K=(y=!1)=>{const b=[],_=[],W={};return e.forEach(M=>{const H={...M,before:[],after:[]};for(const X of k(H.name,H.aliases))W[X]=H;b.push(H)}),t.forEach(M=>{const H={...M,before:[],after:[]};for(const X of k(H.name,H.aliases))W[X]=H;_.push(H)}),_.forEach(M=>{if(M.toMiddleware){const H=W[M.toMiddleware];if(H===void 0){if(y)return;throw new Error(`${M.toMiddleware} is not found when adding ${R(M.name,M.aliases)} middleware ${M.relation} ${M.toMiddleware}`)}M.relation==="after"&&H.after.push(M),M.relation==="before"&&H.before.push(M)}}),m(b).map(U).reduce((M,H)=>(M.push(...H),M),[])},ee={add:(y,b={})=>{const{name:_,override:W,aliases:q}=b,M={step:"initialize",priority:"normal",middleware:y,...b},H=k(_,q);if(H.length>0){if(H.some(X=>i.has(X))){if(!W)throw new Error(`Duplicate middleware name '${R(_,q)}'`);for(const X of H){const ue=e.findIndex(_e=>_e.name===X||_e.aliases?.some(Oe=>Oe===X));if(ue===-1)continue;const te=e[ue];if(te.step!==M.step||M.priority!==te.priority)throw new Error(`"${R(te.name,te.aliases)}" middleware with ${te.priority} priority in ${te.step} step cannot be overridden by "${R(_,q)}" middleware with ${M.priority} priority in ${M.step} step.`);e.splice(ue,1)}}for(const X of H)i.add(X)}e.push(M)},addRelativeTo:(y,b)=>{const{name:_,override:W,aliases:q}=b,M={middleware:y,...b},H=k(_,q);if(H.length>0){if(H.some(X=>i.has(X))){if(!W)throw new Error(`Duplicate middleware name '${R(_,q)}'`);for(const X of H){const ue=t.findIndex(_e=>_e.name===X||_e.aliases?.some(Oe=>Oe===X));if(ue===-1)continue;const te=t[ue];if(te.toMiddleware!==M.toMiddleware||te.relation!==M.relation)throw new Error(`"${R(te.name,te.aliases)}" middleware ${te.relation} "${te.toMiddleware}" middleware cannot be overridden by "${R(_,q)}" middleware ${M.relation} "${M.toMiddleware}" middleware.`);t.splice(ue,1)}}for(const X of H)i.add(X)}t.push(M)},clone:()=>O(z()),use:y=>{y.applyToStack(ee)},remove:y=>typeof y=="string"?E(y):B(y),removeByTag:y=>{let b=!1;const _=W=>{const{tags:q,name:M,aliases:H}=W;if(q&&q.includes(y)){const X=k(M,H);for(const ue of X)i.delete(ue);return b=!0,!1}return!0};return e=e.filter(_),t=t.filter(_),b},concat:y=>{const b=O(z());return b.use(y),b.identifyOnResolve(o||b.identifyOnResolve()||(y.identifyOnResolve?.()??!1)),b},applyToStack:O,identify:()=>K(!0).map(y=>{const b=y.step??y.relation+" "+y.toMiddleware;return R(y.name,y.aliases)+" - "+b}),identifyOnResolve(y){return typeof y=="boolean"&&(o=y),o},resolve:(y,b)=>{for(const _ of K().map(W=>W.middleware).reverse())y=_(y,b);return o&&console.log(ee.identify()),y}};return ee},Q={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},h={high:3,normal:2,low:1};class g{constructor(t){this.config=t,this.middlewareStack=z()}send(t,o,i){const m=typeof o!="function"?o:void 0,E=typeof o=="function"?o:i,B=m===void 0&&this.config.cacheMiddleware===!0;let O;if(B){this.handlers||(this.handlers=new WeakMap);const U=this.handlers;U.has(t.constructor)?O=U.get(t.constructor):(O=t.resolveMiddleware(this.middlewareStack,this.config,m),U.set(t.constructor,O))}else delete this.handlers,O=t.resolveMiddleware(this.middlewareStack,this.config,m);if(E)O(t).then(U=>E(null,U.output),U=>E(U)).catch(()=>{});else return O(t).then(U=>U.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var P=S(20477),w=S(72901);class c{constructor(){this.middlewareStack=z()}static classBuilder(){return new T}resolveMiddlewareWithContext(t,o,i,{middlewareFn:m,clientName:E,commandName:B,inputFilterSensitiveLog:O,outputFilterSensitiveLog:U,smithyContext:K,additionalContext:ee,CommandCtor:y}){for(const M of m.bind(this)(y,t,o,i))this.middlewareStack.use(M);const b=t.concat(this.middlewareStack),{logger:_}=o,W={logger:_,clientName:E,commandName:B,inputFilterSensitiveLog:O,outputFilterSensitiveLog:U,[w.Vf]:{commandInstance:this,...K},...ee},{requestHandler:q}=o;return b.resolve(M=>q.handle(M.request,i||{}),W)}}class T{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,o,i={}){return this._smithyContext={service:t,operation:o,...i},this}c(t={}){return this._additionalContext=t,this}n(t,o){return this._clientName=t,this._commandName=o,this}f(t=i=>i,o=i=>i){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=o,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){const t=this;let o;return o=class extends c{static getEndpointParameterInstructions(){return t._ep}constructor(...[i]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=i??{},t._init(this)}resolveMiddleware(i,m,E){return this.resolveMiddlewareWithContext(i,m,E,{CommandCtor:o,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}const Z="***SensitiveInformation***",ce=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},ie=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&L.warn($(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const t=e.toLowerCase();if((t==="false"||t==="true")&&L.warn($(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ne=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&L.warn($(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},le=Math.ceil(2**127*(2-2**-23)),de=e=>{const t=ne(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>le)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},he=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Me=null,Ce=e=>ye(e,32),se=e=>ye(e,16),pe=e=>ye(e,8),ye=(e,t)=>{const o=he(e);if(o!==void 0&&Pe(o,t)!==o)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return o},Pe=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ge=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},we=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},xe=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return L.warn($(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},$e=e=>{if(e==null)return;const t=we(e),o=Object.entries(t).filter(([,i])=>i!=null).map(([i])=>i);if(o.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(o.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${o} were not null.`);return t},ke=e=>ne(typeof e=="string"?f(e):e),p=null,r=e=>de(typeof e=="string"?f(e):e),a=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,f=e=>{const t=e.match(a);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},C=e=>typeof e=="string"?u(e):ne(e),x=null,s=null,n=e=>typeof e=="string"?u(e):de(e),u=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},d=e=>he(typeof e=="string"?f(e):e),l=null,I=e=>Ce(typeof e=="string"?f(e):e),F=e=>se(typeof e=="string"?f(e):e),N=e=>pe(typeof e=="string"?f(e):e),$=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),L={warn:console.warn},Y=null,j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function re(e){const t=e.getUTCFullYear(),o=e.getUTCMonth(),i=e.getUTCDay(),m=e.getUTCDate(),E=e.getUTCHours(),B=e.getUTCMinutes(),O=e.getUTCSeconds(),U=m<10?`0${m}`:`${m}`,K=E<10?`0${E}`:`${E}`,ee=B<10?`0${B}`:`${B}`,y=O<10?`0${O}`:`${O}`;return`${Y[i]}, ${U} ${j[o]} ${t} ${K}:${ee}:${y} GMT`}const A=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),V=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=A.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[o,i,m,E,B,O,U,K]=t,ee=F(Ee(i)),y=ae(m,"month",1,12),b=ae(E,"day",1,31);return Re(ee,y,b,{hours:B,minutes:O,seconds:U,fractionalMilliseconds:K})},be=null,me=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=be.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[o,i,m,E,B,O,U,K,ee]=t,y=strictParseShort(Ee(i)),b=ae(m,"month",1,12),_=ae(E,"day",1,31),W=Re(y,b,_,{hours:B,minutes:O,seconds:U,fractionalMilliseconds:K});return ee.toUpperCase()!="Z"&&W.setTime(W.getTime()-Ye(ee)),W},D=null,v=null,G=null,fe=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=D.exec(e);if(t){const[o,i,m,E,B,O,U,K]=t;return Re(strictParseShort(Ee(E)),Ie(m),ae(i,"day",1,31),{hours:B,minutes:O,seconds:U,fractionalMilliseconds:K})}if(t=v.exec(e),t){const[o,i,m,E,B,O,U,K]=t;return He(Re(Le(E),Ie(m),ae(i,"day",1,31),{hours:B,minutes:O,seconds:U,fractionalMilliseconds:K}))}if(t=G.exec(e),t){const[o,i,m,E,B,O,U,K]=t;return Re(strictParseShort(Ee(K)),Ie(i),ae(m.trimLeft(),"day",1,31),{hours:E,minutes:B,seconds:O,fractionalMilliseconds:U})}throw new TypeError("Invalid RFC-7231 date-time value")},Ae=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=strictParseDouble(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Re=(e,t,o,i)=>{const m=t-1;return ze(e,m,o),new Date(Date.UTC(e,m,o,ae(i.hours,"hour",0,23),ae(i.minutes,"minute",0,59),ae(i.seconds,"seconds",0,60),Je(i.fractionalMilliseconds)))},Le=e=>{const t=new Date().getUTCFullYear(),o=Math.floor(t/100)*100+strictParseShort(Ee(e));return o<t?o+100:o},Fe=null,He=e=>e.getTime()-new Date().getTime()>Fe?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Ie=e=>{const t=j.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},We=[31,28,31,30,31,30,31,31,30,31,30,31],ze=(e,t,o)=>{let i=We[t];if(t===1&&je(e)&&(i=29),o>i)throw new TypeError(`Invalid day for ${j[t]} in ${e}: ${o}`)},je=e=>e%4===0&&(e%100!==0||e%400===0),ae=(e,t,o,i)=>{const m=N(Ee(e));if(m<o||m>i)throw new TypeError(`${t} must be between ${o} and ${i}, inclusive`);return m},Je=e=>e==null?0:r("0."+e)*1e3,Ye=e=>{const t=e[0];let o=1;if(t=="+")o=1;else if(t=="-")o=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const i=Number(e.substring(1,3)),m=Number(e.substring(4,6));return o*(i*60+m)*60*1e3},Ee=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};class Se extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;const o=t;return Se.prototype.isPrototypeOf(o)||Boolean(o.$fault)&&Boolean(o.$metadata)&&(o.$fault==="client"||o.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;const o=t;return this===Se?Se.isInstance(t):Se.isInstance(t)?o.name&&this.name?this.prototype.isPrototypeOf(t)||o.name===this.name:this.prototype.isPrototypeOf(t):!1}}const Ne=(e,t={})=>{Object.entries(t).filter(([,i])=>i!==void 0).forEach(([i,m])=>{(e[i]==null||e[i]==="")&&(e[i]=m)});const o=e.message||e.Message||"UnknownError";return e.message=o,delete e.Message,e},Ve=({output:e,parsedBody:t,exceptionCtor:o,errorCode:i})=>{const m=Qe(e),E=m.httpStatusCode?m.httpStatusCode+"":void 0,B=new o({name:t?.code||t?.Code||i||E||"UnknownError",$fault:"client",$metadata:m});throw Ne(B,t)},Ge=e=>({output:t,parsedBody:o,errorCode:i})=>{Ve({output:t,parsedBody:o,exceptionCtor:e,errorCode:i})},Qe=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ke=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let Ue=!1;const Xe=e=>{e&&!Ue&&parseInt(e.substring(1,e.indexOf(".")))<16&&(Ue=!0)},Ze=e=>{const t=[];for(const o in w.dB){const i=w.dB[o];e[i]!==void 0&&t.push({algorithmId:()=>i,checksumConstructor:()=>e[i]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(o){this._checksumAlgorithms.push(o)},checksumAlgorithms(){return this._checksumAlgorithms}}},qe=e=>{const t={};return e.checksumAlgorithms().forEach(o=>{t[o.algorithmId()]=o.checksumConstructor()}),t},et=e=>{let t=e.retryStrategy;return{setRetryStrategy(o){t=o},retryStrategy(){return t}}},tt=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},rt=e=>({...Ze(e),...et(e)}),ut=null,nt=e=>({...qe(e),...tt(e)}),st=e=>e!=null,Te=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Te.from=e=>e&&typeof e=="object"&&(e instanceof Te||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Te(String(e)):Te(JSON.stringify(e)),Te.fromObject=Te.from;class ot{trace(){}debug(){}info(){}warn(){}error(){}}function ve(e,t,o){let i,m,E;if(typeof t>"u"&&typeof o>"u")i={},E=e;else{if(i=e,typeof t=="function")return m=t,E=o,at(i,m,E);E=t}for(const B of Object.keys(E)){if(!Array.isArray(E[B])){i[B]=E[B];continue}De(i,null,E,B)}return i}const dt=e=>{const t={};for(const[o,i]of Object.entries(e||{}))t[o]=[,i];return t},it=(e,t)=>{const o={};for(const i in t)De(o,e,t,i);return o},at=(e,t,o)=>ve(e,Object.entries(o).reduce((i,[m,E])=>(Array.isArray(E)?i[m]=E:typeof E=="function"?i[m]=[t,E()]:i[m]=[t,E],i),{})),De=(e,t,o,i)=>{if(t!==null){let B=o[i];typeof B=="function"&&(B=[,B]);const[O=ct,U=ft,K=i]=B;(typeof O=="function"&&O(t[K])||typeof O!="function"&&!!O)&&(e[i]=U(t[K]));return}let[m,E]=o[i];if(typeof E=="function"){let B;const O=m===void 0&&(B=E())!=null,U=typeof m=="function"&&!!m(void 0)||typeof m!="function"&&!!m;O?e[i]=B:U&&(e[i]=E())}else{const B=m===void 0&&E!=null,O=typeof m=="function"&&!!m(E)||typeof m!="function"&&!!m;(B||O)&&(e[i]=E)}},ct=e=>e!=null,ft=e=>e,Be=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Be);if(typeof e=="object"){const t={};for(const o of Object.keys(e))e[o]!=null&&(t[o]=Be(e[o]));return t}return e}},77354:(oe,J,S)=>{S.d(J,{E:()=>z,n:()=>h});var k=S(15932);const R=/^[A-Za-z0-9+/]*={0,2}$/,z=g=>{if(g.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!R.exec(g))throw new TypeError("Invalid base64 string.");const P=(0,k.s)(g,"base64");return new Uint8Array(P.buffer,P.byteOffset,P.byteLength)};var Q=S(25951);const h=g=>{let P;if(typeof g=="string"?P=(0,Q.ar)(g):P=g,typeof P!="object"||typeof P.byteOffset!="number"||typeof P.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,k.Q)(P.buffer,P.byteOffset,P.byteLength).toString("base64")}},15932:(oe,J,S)=>{S.d(J,{Q:()=>Q,s:()=>h});var k=S(709),R=S(20181),z=S.n(R);const Q=(g,P=0,w=g.byteLength-P)=>{if(!(0,k.m)(g))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof g} (${g})`);return R.Buffer.from(g,P,w)},h=(g,P)=>{if(typeof g!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof g} (${g})`);return P?R.Buffer.from(g,P):R.Buffer.from(g)}},72981:(oe,J,S)=>{S.d(J,{a:()=>z,n:()=>Q});const k={},R={};for(let h=0;h<256;h++){let g=h.toString(16).toLowerCase();g.length===1&&(g=`0${g}`),k[h]=g,R[g]=h}function z(h){if(h.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const g=new Uint8Array(h.length/2);for(let P=0;P<h.length;P+=2){const w=h.slice(P,P+2).toLowerCase();if(w in R)g[P/2]=R[w];else throw new Error(`Cannot decode unrecognized sequence ${w} as hexadecimal`)}return g}function Q(h){let g="";for(let P=0;P<h.byteLength;P++)g+=k[h[P]];return g}},57954:(oe,J,S)=>{S.d(J,{Mu:()=>h,c9:()=>C});var k=S(77354),R=S(25951);function z(s,n="utf-8"){return n==="base64"?(0,k.n)(s):(0,R.Pq)(s)}function Q(s,n){return n==="base64"?h.mutate((0,k.E)(s)):h.mutate((0,R.ar)(s))}class h extends Uint8Array{static fromString(n,u="utf-8"){switch(typeof n){case"string":return Q(n,u);default:throw new Error(`Unsupported conversion from ${typeof n} to Uint8ArrayBlobAdapter.`)}}static mutate(n){return Object.setPrototypeOf(n,h.prototype),n}transformToString(n="utf-8"){return z(this,n)}}var g=S(2203);class P extends g.Duplex{constructor({expectedChecksum:n,checksum:u,source:d,checksumSourceLocation:l,base64Encoder:I}){if(super(),typeof d.pipe=="function")this.source=d;else throw new Error(`@smithy/util-stream: unsupported source type ${d?.constructor?.name??d} in ChecksumStream.`);this.base64Encoder=I??k.n,this.expectedChecksum=n,this.checksum=u,this.checksumSourceLocation=l,this.source.pipe(this)}_read(n){}_write(n,u,d){try{this.checksum.update(n),this.push(n)}catch(l){return d(l)}return d()}async _final(n){try{const u=await this.checksum.digest(),d=this.base64Encoder(u);if(this.expectedChecksum!==d)return n(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${d}" in response header "${this.checksumSourceLocation}".`))}catch(u){return n(u)}return this.push(null),n()}}const w=typeof ReadableStream=="function"?ReadableStream:function(){};class c extends null{}const T=({expectedChecksum:s,checksum:n,source:u,checksumSourceLocation:d,base64Encoder:l})=>{if(!isReadableStream(u))throw new Error(`@smithy/util-stream: unsupported source type ${u?.constructor?.name??u} in ChecksumStream.`);const I=l??toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const F=new TransformStream({start(){},async transform($,L){n.update($),L.enqueue($)},async flush($){const L=await n.digest(),Y=I(L);if(s!==Y){const j=new Error(`Checksum mismatch: expected "${s}" but received "${Y}" in response header "${d}".`);$.error(j)}else $.terminate()}});u.pipeThrough(F);const N=F.readable;return Object.setPrototypeOf(N,ChecksumStream.prototype),N};function Z(s){return typeof ReadableStream=="function"&&isReadableStream(s.source)?createChecksumStreamWeb(s):new ChecksumStream(s)}var ce=S(57075);function ie(s,n,u){if(isReadableStream(s))return createBufferedReadableStream(s,n,u);const d=new Readable({read(){}});let l=!1,I=0;const F=["",new ByteArrayCollector($=>new Uint8Array($)),new ByteArrayCollector($=>Buffer.from(new Uint8Array($)))];let N=-1;return s.on("data",$=>{const L=modeOf($);if(N!==L&&(N>=0&&d.push(flush(F,N)),N=L),N===-1){d.push($);return}const Y=sizeOf($);I+=Y;const j=sizeOf(F[N]);if(Y>=n&&j===0)d.push($);else{const re=merge(F,N,$);!l&&I>n*2&&(l=!0,u?.warn(`@smithy/util-stream - stream chunk size ${Y} is below threshold of ${n}, automatically buffering.`)),re>=n&&d.push(flush(F,N))}}),s.on("end",()=>{if(N!==-1){const $=flush(F,N);sizeOf($)>0&&d.push($)}d.push(null)}),d}const ne=(s,n)=>{const{base64Encoder:u,bodyLengthChecker:d,checksumAlgorithmFn:l,checksumLocationName:I,streamHasher:F}=n,N=u!==void 0&&l!==void 0&&I!==void 0&&F!==void 0,$=N?F(l,s):void 0,L=new Readable({read:()=>{}});return s.on("data",Y=>{const j=d(Y)||0;L.push(`${j.toString(16)}\r
`),L.push(Y),L.push(`\r
`)}),s.on("end",async()=>{if(L.push(`0\r
`),N){const Y=u(await $);L.push(`${I}:${Y}\r
`),L.push(`\r
`)}L.push(null)}),L},le=(s,n)=>isReadableStream(s)?headWebStream(s,n):new Promise((u,d)=>{const l=new de;l.limit=n,s.pipe(l),s.on("error",I=>{l.end(),d(I)}),l.on("error",d),l.on("finish",function(){const I=new Uint8Array(Buffer.concat(this.buffers));u(I)})});class de extends g.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(n,u,d){if(this.buffers.push(n),this.bytesBuffered+=n.byteLength??0,this.bytesBuffered>=this.limit){const l=this.bytesBuffered-this.limit,I=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=I.subarray(0,I.byteLength-l),this.emit("finish")}d()}}var he=S(57573),Me=S(15932),Ce=S(78161);const se={supported:void 0};class pe{static create(n){return typeof n?.handle=="function"?n:new pe(n)}constructor(n){typeof n=="function"?this.configProvider=n().then(u=>u||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),se.supported===void 0&&(se.supported=Boolean(typeof Request<"u"&&"keepalive"in createRequest("https://[::1]")))}destroy(){}async handle(n,{abortSignal:u}={}){this.config||(this.config=await this.configProvider);const d=this.config.requestTimeout,l=this.config.keepAlive===!0,I=this.config.credentials;if(u?.aborted){const D=new Error("Request aborted");return D.name="AbortError",Promise.reject(D)}let F=n.path;const N=buildQueryString(n.query||{});N&&(F+=`?${N}`),n.fragment&&(F+=`#${n.fragment}`);let $="";if(n.username!=null||n.password!=null){const D=n.username??"",v=n.password??"";$=`${D}:${v}@`}const{port:L,method:Y}=n,j=`${n.protocol}//${$}${n.hostname}${L?`:${L}`:""}${F}`,re=Y==="GET"||Y==="HEAD"?void 0:n.body,A={body:re,headers:new Headers(n.headers),method:Y,credentials:I};this.config?.cache&&(A.cache=this.config.cache),re&&(A.duplex="half"),typeof AbortController<"u"&&(A.signal=u),se.supported&&(A.keepalive=l),typeof this.config.requestInit=="function"&&Object.assign(A,this.config.requestInit(n));let V=()=>{};const be=createRequest(j,A),me=[fetch(be).then(D=>{const v=D.headers,G={};for(const Ae of v.entries())G[Ae[0]]=Ae[1];return D.body!=null?{response:new HttpResponse({headers:G,reason:D.statusText,statusCode:D.status,body:D.body})}:D.blob().then(Ae=>({response:new HttpResponse({headers:G,reason:D.statusText,statusCode:D.status,body:Ae})}))}),requestTimeout(d)];return u&&me.push(new Promise((D,v)=>{const G=()=>{const fe=new Error("Request aborted");fe.name="AbortError",v(fe)};if(typeof u.addEventListener=="function"){const fe=u;fe.addEventListener("abort",G,{once:!0}),V=()=>fe.removeEventListener("abort",G)}else u.onabort=G})),Promise.race(me).finally(V)}updateHttpClientConfig(n,u){this.config=void 0,this.configProvider=this.configProvider.then(d=>(d[n]=u,d))}httpHandlerConfigs(){return this.config??{}}}const ye=async s=>typeof Blob=="function"&&s instanceof Blob||s.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await s.arrayBuffer()):Pe(s):ge(s);async function Pe(s){const n=await we(s),u=(0,k.E)(n);return new Uint8Array(u)}async function ge(s){const n=[],u=s.getReader();let d=!1,l=0;for(;!d;){const{done:N,value:$}=await u.read();$&&(n.push($),l+=$.length),d=N}const I=new Uint8Array(l);let F=0;for(const N of n)I.set(N,F),F+=N.length;return I}function we(s){return new Promise((n,u)=>{const d=new FileReader;d.onloadend=()=>{if(d.readyState!==2)return u(new Error("Reader aborted too early"));const l=d.result??"",I=l.indexOf(","),F=I>-1?I+1:l.length;n(l.substring(F))},d.onabort=()=>u(new Error("Read aborted")),d.onerror=()=>u(d.error),d.readAsDataURL(s)})}var xe=S(72981);const $e=s=>typeof ReadableStream=="function"&&(s?.constructor?.name===ReadableStream.name||s instanceof ReadableStream),ke=s=>typeof Blob=="function"&&(s?.constructor?.name===Blob.name||s instanceof Blob),p="The stream has already been transformed.",r=s=>{if(!a(s)&&!$e(s)){const l=s?.__proto__?.constructor?.name||s;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${l}`)}let n=!1;const u=async()=>{if(n)throw new Error(p);return n=!0,await ye(s)},d=l=>{if(typeof l.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return l.stream()};return Object.assign(s,{transformToByteArray:u,transformToString:async l=>{const I=await u();if(l==="base64")return(0,k.n)(I);if(l==="hex")return(0,xe.n)(I);if(l===void 0||l==="utf8"||l==="utf-8")return(0,R.Pq)(I);if(typeof TextDecoder=="function")return new TextDecoder(l).decode(I);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(p);if(n=!0,a(s))return d(s);if($e(s))return s;throw new Error(`Cannot transform payload to web stream, got ${s}`)}})},a=s=>typeof Blob=="function"&&s instanceof Blob,f="The stream has already been transformed.",C=s=>{if(!(s instanceof g.Readable))try{return r(s)}catch{const l=s?.__proto__?.constructor?.name||s;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${l}`)}let n=!1;const u=async()=>{if(n)throw new Error(f);return n=!0,await(0,he.kv)(s)};return Object.assign(s,{transformToByteArray:u,transformToString:async d=>{const l=await u();return d===void 0||Buffer.isEncoding(d)?(0,Me.Q)(l.buffer,l.byteOffset,l.byteLength).toString(d):new TextDecoder(d).decode(l)},transformToWebStream:()=>{if(n)throw new Error(f);if(s.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof g.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,g.Readable.toWeb(s)}})};async function x(s){if(isReadableStream(s)||isBlob(s))return splitWebStream(s);const n=new PassThrough,u=new PassThrough;return s.pipe(n),s.pipe(u),[n,u]}},16309:(oe,J,S)=>{S.d(J,{o:()=>k});const k=z=>encodeURIComponent(z).replace(/[!'()*]/g,R),R=z=>`%${z.charCodeAt(0).toString(16).toUpperCase()}`},25951:(oe,J,S)=>{S.d(J,{ar:()=>R,Fo:()=>z,Pq:()=>Q});var k=S(15932);const R=h=>{const g=(0,k.s)(h,"utf8");return new Uint8Array(g.buffer,g.byteOffset,g.byteLength/Uint8Array.BYTES_PER_ELEMENT)},z=h=>typeof h=="string"?R(h):ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(h),Q=h=>{if(typeof h=="string")return h;if(typeof h!="object"||typeof h.byteOffset!="number"||typeof h.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,k.Q)(h.buffer,h.byteOffset,h.byteLength).toString("utf8")}}};
