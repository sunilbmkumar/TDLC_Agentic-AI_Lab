"use strict";exports.id=824,exports.ids=[824],exports.modules={19082:(ue,H,u)=>{u.d(H,{I:()=>w});const y={warningEmitted:!1},w=R=>{R&&!y.warningEmitted&&parseInt(R.substring(1,R.indexOf(".")))<18&&(y.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}},96172:(ue,H,u)=>{u.d(H,{g:()=>y});function y(w,R,M){return w.$source||(w.$source={}),w.$source[R]=M,w}},36124:(ue,H,u)=>{u.d(H,{f2:()=>I});var y=u(91551);const w=m=>new Date(Date.now()+m),R=m=>y.cS.isInstance(m)?m.headers?.date??m.headers?.Date:void 0,M=(m,N)=>Math.abs(w(N).getTime()-m)>=3e5,T=(m,N)=>{const v=Date.parse(m);return M(v,N)?v-Date.now():N},S=(m,N)=>{if(!N)throw new Error(`Property \`${m}\` is not resolved for AWS SDK SigV4Auth`);return N},E=async m=>{const N=S("context",m.context),v=S("config",m.config),D=N.endpointV2?.properties?.authSchemes?.[0],W=await S("signer",v.signer)(D),V=m?.signingRegion,ee=m?.signingRegionSet,ne=m?.signingName;return{config:v,signer:W,signingRegion:V,signingRegionSet:ee,signingName:ne}};class I{async sign(N,v,D){if(!y.Kd.isInstance(N))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const B=await E(D),{config:W,signer:V}=B;let{signingRegion:ee,signingName:ne}=B;const Ee=D.context;if(Ee?.authSchemes?.length??0>1){const[g,L]=Ee.authSchemes;g?.name==="sigv4a"&&L?.name==="sigv4"&&(ee=L?.signingRegion??ee,ne=L?.signingName??ne)}return await V.sign(N,{signingDate:w(W.systemClockOffset),signingRegion:ee,signingService:ne})}errorHandler(N){return v=>{const D=v.ServerTime??R(v.$response);if(D){const B=S("config",N.config),W=B.systemClockOffset;B.systemClockOffset=T(D,B.systemClockOffset),B.systemClockOffset!==W&&v.$metadata&&(v.$metadata.clockSkewCorrected=!0)}throw v}}successHandler(N,v){const D=R(N);if(D){const B=S("config",v.config);B.systemClockOffset=T(D,B.systemClockOffset)}}}const i=null},47072:(ue,H,u)=>{u.d(H,{h:()=>Qe});var y=u(96172),w=u(94344),R=u(4444),M=u(44487),T=u(57627),S=u(76053);const E="X-Amz-Algorithm",I="X-Amz-Credential",i="X-Amz-Date",m="X-Amz-SignedHeaders",N="X-Amz-Expires",v="X-Amz-Signature",D="X-Amz-Security-Token",B="X-Amz-Region-Set",W="authorization",V=i.toLowerCase(),ne=[W,V,"date"],Ee=v.toLowerCase(),se="x-amz-content-sha256",g=D.toLowerCase(),L="host",P={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Y=/^proxy-/,ae=/^sec-/,pe=null,F="AWS4-HMAC-SHA256",X="AWS4-ECDSA-P256-SHA256",f="AWS4-HMAC-SHA256-PAYLOAD",s="UNSIGNED-PAYLOAD",d=50,p="aws4_request",o=60*60*24*7,l={},h=[],k=(b,C,U)=>`${b}/${C}/${U}/${p}`,a=async(b,C,U,G,z)=>{const q=await t(b,C.secretAccessKey,C.accessKeyId),he=`${U}:${G}:${z}:${(0,R.n)(q)}:${C.sessionToken}`;if(he in l)return l[he];for(h.push(he);h.length>d;)delete l[h.shift()];let me=`AWS4${C.secretAccessKey}`;for(const ge of[U,G,z,p])me=await t(b,me,ge);return l[he]=me},n=()=>{h.length=0,Object.keys(l).forEach(b=>{delete l[b]})},t=(b,C,U)=>{const G=new b(C);return G.update((0,S.Fo)(U)),G.digest()},c=({headers:b},C,U)=>{const G={};for(const z of Object.keys(b).sort()){if(b[z]==null)continue;const q=z.toLowerCase();(q in P||C?.has(q)||Y.test(q)||ae.test(q))&&(!U||U&&!U.has(q))||(G[q]=b[z].trim().replace(/\s+/g," "))}return G},A=({query:b={}})=>{const C=[],U={};for(const G of Object.keys(b)){if(G.toLowerCase()===Ee)continue;const z=(0,T.o)(G);C.push(z);const q=b[G];typeof q=="string"?U[z]=`${z}=${(0,T.o)(q)}`:Array.isArray(q)&&(U[z]=q.slice(0).reduce((he,me)=>he.concat([`${z}=${(0,T.o)(me)}`]),[]).sort().join("&"))}return C.sort().map(G=>U[G]).filter(G=>G).join("&")};var _=u(15367);const $=async({headers:b,body:C},U)=>{for(const G of Object.keys(b))if(G.toLowerCase()===se)return b[G];if(C==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof C=="string"||ArrayBuffer.isView(C)||(0,_.m)(C)){const G=new U;return G.update((0,S.Fo)(C)),(0,R.n)(await G.digest())}return s};class K{format(C){const U=[];for(const q of Object.keys(C)){const he=(0,S.ar)(q);U.push(Uint8Array.from([he.byteLength]),he,this.formatHeaderValue(C[q]))}const G=new Uint8Array(U.reduce((q,he)=>q+he.byteLength,0));let z=0;for(const q of U)G.set(q,z),z+=q.byteLength;return G}formatHeaderValue(C){switch(C.type){case"boolean":return Uint8Array.from([C.value?0:1]);case"byte":return Uint8Array.from([2,C.value]);case"short":const U=new DataView(new ArrayBuffer(3));return U.setUint8(0,3),U.setInt16(1,C.value,!1),new Uint8Array(U.buffer);case"integer":const G=new DataView(new ArrayBuffer(5));return G.setUint8(0,4),G.setInt32(1,C.value,!1),new Uint8Array(G.buffer);case"long":const z=new Uint8Array(9);return z[0]=5,z.set(C.value.bytes,1),z;case"binary":const q=new DataView(new ArrayBuffer(3+C.value.byteLength));q.setUint8(0,6),q.setUint16(1,C.value.byteLength,!1);const he=new Uint8Array(q.buffer);return he.set(C.value,3),he;case"string":const me=(0,S.ar)(C.value),ge=new DataView(new ArrayBuffer(3+me.byteLength));ge.setUint8(0,7),ge.setUint16(1,me.byteLength,!1);const Ae=new Uint8Array(ge.buffer);return Ae.set(me,3),Ae;case"timestamp":const Pe=new Uint8Array(9);return Pe[0]=8,Pe.set(ie.fromNumber(C.value.valueOf()).bytes,1),Pe;case"uuid":if(!j.test(C.value))throw new Error(`Invalid UUID received: ${C.value}`);const Oe=new Uint8Array(17);return Oe[0]=9,Oe.set((0,R.a)(C.value.replace(/\-/g,"")),1),Oe}}}var Q;(function(b){b[b.boolTrue=0]="boolTrue",b[b.boolFalse=1]="boolFalse",b[b.byte=2]="byte",b[b.short=3]="short",b[b.integer=4]="integer",b[b.long=5]="long",b[b.byteArray=6]="byteArray",b[b.string=7]="string",b[b.timestamp=8]="timestamp",b[b.uuid=9]="uuid"})(Q||(Q={}));const j=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class ie{constructor(C){if(this.bytes=C,C.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(C){if(C>9223372036854776e3||C<-9223372036854776e3)throw new Error(`${C} is too large (or, if negative, too small) to represent as an Int64`);const U=new Uint8Array(8);for(let G=7,z=Math.abs(Math.round(C));G>-1&&z>0;G--,z/=256)U[G]=z;return C<0&&Z(U),new ie(U)}valueOf(){const C=this.bytes.slice(0),U=C[0]&128;return U&&Z(C),parseInt((0,R.n)(C),16)*(U?-1:1)}toString(){return String(this.valueOf())}}function Z(b){for(let C=0;C<8;C++)b[C]^=255;for(let C=7;C>-1&&(b[C]++,b[C]===0);C--);}const we=(b,C)=>{b=b.toLowerCase();for(const U of Object.keys(C))if(b===U.toLowerCase())return!0;return!1},Fe=(b,C)=>{b=b.toLowerCase();for(const U of Object.keys(C))if(b===U.toLowerCase())return C[U]},$e=(b,C)=>{b=b.toLowerCase();for(const U of Object.keys(C))b===U.toLowerCase()&&delete C[U]};var _e=u(91551);const Se=(b,C={})=>{const{headers:U,query:G={}}=_e.Kd.clone(b);for(const z of Object.keys(U)){const q=z.toLowerCase();(q.slice(0,6)==="x-amz-"&&!C.unhoistableHeaders?.has(q)||C.hoistableHeaders?.has(q))&&(G[z]=U[z],delete U[z])}return{...b,headers:U,query:G}},be=b=>{b=_e.Kd.clone(b);for(const C of Object.keys(b.headers))ne.indexOf(C.toLowerCase())>-1&&delete b.headers[C];return b},Ie=b=>Be(b).toISOString().replace(/\.\d{3}Z$/,"Z"),Be=b=>typeof b=="number"?new Date(b*1e3):typeof b=="string"?Number(b)?new Date(Number(b)*1e3):new Date(b):b;class Le{constructor({applyChecksum:C,credentials:U,region:G,service:z,sha256:q,uriEscapePath:he=!0}){this.headerFormatter=new K,this.service=z,this.sha256=q,this.uriEscapePath=he,this.applyChecksum=typeof C=="boolean"?C:!0,this.regionProvider=(0,M.t)(G),this.credentialProvider=(0,M.t)(U)}async presign(C,U={}){const{signingDate:G=new Date,expiresIn:z=3600,unsignableHeaders:q,unhoistableHeaders:he,signableHeaders:me,hoistableHeaders:ge,signingRegion:Ae,signingService:Pe}=U,Oe=await this.credentialProvider();this.validateResolvedCredentials(Oe);const Me=Ae??await this.regionProvider(),{longDate:He,shortDate:We}=De(G);if(z>o)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const Ge=k(We,Me,Pe??this.service),Ue=Se(be(C),{unhoistableHeaders:he,hoistableHeaders:ge});Oe.sessionToken&&(Ue.query[D]=Oe.sessionToken),Ue.query[E]=F,Ue.query[I]=`${Oe.accessKeyId}/${Ge}`,Ue.query[i]=He,Ue.query[N]=z.toString(10);const Xe=c(Ue,q,me);return Ue.query[m]=je(Xe),Ue.query[v]=await this.getSignature(He,Ge,this.getSigningKey(Oe,Me,We,Pe),this.createCanonicalRequest(Ue,Xe,await $(C,this.sha256))),Ue}async sign(C,U){return typeof C=="string"?this.signString(C,U):C.headers&&C.payload?this.signEvent(C,U):C.message?this.signMessage(C,U):this.signRequest(C,U)}async signEvent({headers:C,payload:U},{signingDate:G=new Date,priorSignature:z,signingRegion:q,signingService:he}){const me=q??await this.regionProvider(),{shortDate:ge,longDate:Ae}=De(G),Pe=k(ge,me,he??this.service),Oe=await $({headers:{},body:U},this.sha256),Me=new this.sha256;Me.update(C);const He=(0,R.n)(await Me.digest()),We=[f,Ae,Pe,z,He,Oe].join(`
`);return this.signString(We,{signingDate:G,signingRegion:me,signingService:he})}async signMessage(C,{signingDate:U=new Date,signingRegion:G,signingService:z}){return this.signEvent({headers:this.headerFormatter.format(C.message.headers),payload:C.message.body},{signingDate:U,signingRegion:G,signingService:z,priorSignature:C.priorSignature}).then(he=>({message:C.message,signature:he}))}async signString(C,{signingDate:U=new Date,signingRegion:G,signingService:z}={}){const q=await this.credentialProvider();this.validateResolvedCredentials(q);const he=G??await this.regionProvider(),{shortDate:me}=De(U),ge=new this.sha256(await this.getSigningKey(q,he,me,z));return ge.update((0,S.Fo)(C)),(0,R.n)(await ge.digest())}async signRequest(C,{signingDate:U=new Date,signableHeaders:G,unsignableHeaders:z,signingRegion:q,signingService:he}={}){const me=await this.credentialProvider();this.validateResolvedCredentials(me);const ge=q??await this.regionProvider(),Ae=be(C),{longDate:Pe,shortDate:Oe}=De(U),Me=k(Oe,ge,he??this.service);Ae.headers[V]=Pe,me.sessionToken&&(Ae.headers[g]=me.sessionToken);const He=await $(Ae,this.sha256);!we(se,Ae.headers)&&this.applyChecksum&&(Ae.headers[se]=He);const We=c(Ae,z,G),Ge=await this.getSignature(Pe,Me,this.getSigningKey(me,ge,Oe,he),this.createCanonicalRequest(Ae,We,He));return Ae.headers[W]=`${F} Credential=${me.accessKeyId}/${Me}, SignedHeaders=${je(We)}, Signature=${Ge}`,Ae}createCanonicalRequest(C,U,G){const z=Object.keys(U).sort();return`${C.method}
${this.getCanonicalPath(C)}
${A(C)}
${z.map(q=>`${q}:${U[q]}`).join(`
`)}

${z.join(";")}
${G}`}async createStringToSign(C,U,G){const z=new this.sha256;z.update((0,S.Fo)(G));const q=await z.digest();return`${F}
${C}
${U}
${(0,R.n)(q)}`}getCanonicalPath({path:C}){if(this.uriEscapePath){const U=[];for(const q of C.split("/"))q?.length!==0&&q!=="."&&(q===".."?U.pop():U.push(q));const G=`${C?.startsWith("/")?"/":""}${U.join("/")}${U.length>0&&C?.endsWith("/")?"/":""}`;return(0,T.o)(G).replace(/%2F/g,"/")}return C}async getSignature(C,U,G,z){const q=await this.createStringToSign(C,U,z),he=new this.sha256(await G);return he.update((0,S.Fo)(q)),(0,R.n)(await he.digest())}getSigningKey(C,U,G,z){return a(this.sha256,C,G,U,z||this.service)}validateResolvedCredentials(C){if(typeof C!="object"||typeof C.accessKeyId!="string"||typeof C.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const De=b=>{const C=Ie(b).replace(/[\-:]/g,"");return{longDate:C,shortDate:C.slice(0,8)}},je=b=>Object.keys(b).sort().join(";"),Qe=b=>{let C=!1,U;b.credentials&&(C=!0,U=(0,w.K4)(b.credentials,w.OC,w.e)),U||(b.credentialDefaultProvider?U=(0,w.te)(b.credentialDefaultProvider(Object.assign({},b,{parentClientConfig:b}))):U=async()=>{throw new Error("`credentials` is missing")});const G=async()=>U({callerClientConfig:b}),{signingEscapePath:z=!0,systemClockOffset:q=b.systemClockOffset||0,sha256:he}=b;let me;return b.signer?me=(0,w.te)(b.signer):b.regionInfoProvider?me=()=>(0,w.te)(b.region)().then(async ge=>[await b.regionInfoProvider(ge,{useFipsEndpoint:await b.useFipsEndpoint(),useDualstackEndpoint:await b.useDualstackEndpoint()})||{},ge]).then(([ge,Ae])=>{const{signingRegion:Pe,signingService:Oe}=ge;b.signingRegion=b.signingRegion||Pe||Ae,b.signingName=b.signingName||Oe||b.serviceId;const Me={...b,credentials:G,region:b.signingRegion,service:b.signingName,sha256:he,uriEscapePath:z},He=b.signerConstructor||Le;return new He(Me)}):me=async ge=>{ge=Object.assign({},{name:"sigv4",signingName:b.signingName||b.defaultSigningName,signingRegion:await(0,w.te)(b.region)(),properties:{}},ge);const Ae=ge.signingRegion,Pe=ge.signingName;b.signingRegion=b.signingRegion||Ae,b.signingName=b.signingName||Pe||b.serviceId;const Oe={...b,credentials:G,region:b.signingRegion,service:b.signingName,sha256:he,uriEscapePath:z},Me=b.signerConstructor||Le;return new Me(Oe)},{...b,systemClockOffset:q,signingEscapePath:z,credentials:C?async()=>G().then(ge=>(0,y.g)(ge,"CREDENTIALS_CODE","e")):G,signer:me}},qe=null},38770:(ue,H,u)=>{u.d(H,{w:()=>w});var y=u(12799);const w=(R,M)=>(0,y.Px)(R,M).then(T=>M.utf8Encoder(T))},24383:(ue,H,u)=>{u.d(H,{OV:()=>w,TC:()=>T});var y=u(91551);function w(S){return S}const R=S=>E=>async I=>{if(!y.Kd.isInstance(I.request))return E(I);const{request:i}=I,{handlerProtocol:m=""}=S.requestHandler.metadata||{};if(m.indexOf("h2")>=0&&!i.headers[":authority"])delete i.headers.host,i.headers[":authority"]=i.hostname+(i.port?":"+i.port:"");else if(!i.headers.host){let N=i.hostname;i.port!=null&&(N+=`:${i.port}`),i.headers.host=N}return E(I)},M={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},T=S=>({applyToStack:E=>{E.add(R(S),M)}})},16103:(ue,H,u)=>{u.d(H,{Y7:()=>R});const y=()=>(M,T)=>async S=>{try{const E=await M(S),{clientName:I,commandName:i,logger:m,dynamoDbDocumentClientOptions:N={}}=T,{overrideInputFilterSensitiveLog:v,overrideOutputFilterSensitiveLog:D}=N,B=v??T.inputFilterSensitiveLog,W=D??T.outputFilterSensitiveLog,{$metadata:V,...ee}=E.output;return m?.info?.({clientName:I,commandName:i,input:B(S.input),output:W(ee),metadata:V}),E}catch(E){const{clientName:I,commandName:i,logger:m,dynamoDbDocumentClientOptions:N={}}=T,{overrideInputFilterSensitiveLog:v}=N,D=v??T.inputFilterSensitiveLog;throw m?.error?.({clientName:I,commandName:i,input:D(S.input),error:E,metadata:E.$metadata}),E}},w={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},R=M=>({applyToStack:T=>{T.add(y(),w)}})},47425:(ue,H,u)=>{u.d(H,{n4:()=>E});var y=u(91551);const w="X-Amzn-Trace-Id",R="AWS_LAMBDA_FUNCTION_NAME",M="_X_AMZN_TRACE_ID",T=I=>i=>async m=>{const{request:N}=m;if(!y.Kd.isInstance(N)||I.runtime!=="node"||N.headers.hasOwnProperty(w))return i(m);const v=process.env[R],D=process.env[M],B=W=>typeof W=="string"&&W.length>0;return B(v)&&B(D)&&(N.headers[w]=D),i({...m,request:N})},S={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},E=I=>({applyToStack:i=>{i.add(T(I),S)}})},20505:(ue,H,u)=>{u.d(H,{bM:()=>w,sM:()=>L,Dc:()=>M});var y=u(94344);const w=void 0;function R(P){return P===void 0?!0:typeof P=="string"&&P.length<=50}function M(P){const Y=(0,y.te)(P.userAgentAppId??w);return{...P,customUserAgent:typeof P.customUserAgent=="string"?[[P.customUserAgent]]:P.customUserAgent,userAgentAppId:async()=>{const ae=await Y();if(!R(ae)){const pe=P.logger?.constructor?.name==="NoOpLogger"||!P.logger?console:P.logger;typeof ae!="string"?pe?.warn("userAgentAppId must be a string or undefined."):ae.length>50&&pe?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return ae}}}var T=u(70292),S=u(91551);function E(P,Y,ae){P.__aws_sdk_context?P.__aws_sdk_context.features||(P.__aws_sdk_context.features={}):P.__aws_sdk_context={features:{}},P.__aws_sdk_context.features[Y]=ae}const I=/\d{12}\.ddb/;async function i(P,Y,ae){if(ae.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&E(P,"PROTOCOL_RPC_V2_CBOR","M"),typeof Y.retryStrategy=="function"){const X=await Y.retryStrategy();typeof X.acquireInitialRetryToken=="function"?X.constructor?.name?.includes("Adaptive")?E(P,"RETRY_MODE_ADAPTIVE","F"):E(P,"RETRY_MODE_STANDARD","E"):E(P,"RETRY_MODE_LEGACY","D")}if(typeof Y.accountIdEndpointMode=="function"){const X=P.endpointV2;switch(String(X?.url?.hostname).match(I)&&E(P,"ACCOUNT_ID_ENDPOINT","O"),await Y.accountIdEndpointMode?.()){case"disabled":E(P,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":E(P,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":E(P,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const F=P.__smithy_context?.selectedHttpAuthScheme?.identity;if(F?.$source){const X=F;X.accountId&&E(P,"RESOLVED_ACCOUNT_ID","T");for(const[f,s]of Object.entries(X.$source??{}))E(P,f,s)}}const m="user-agent",N="x-amz-user-agent",v=" ",D="/",B=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,W=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,V="-",ee=1024;function ne(P){let Y="";for(const ae in P){const pe=P[ae];if(Y.length+pe.length+1<=ee){Y.length?Y+=","+pe:Y+=pe;continue}break}return Y}const Ee=P=>(Y,ae)=>async pe=>{const{request:F}=pe;if(!S.Kd.isInstance(F))return Y(pe);const{headers:X}=F,f=ae?.userAgent?.map(se)||[],s=(await P.defaultUserAgentProvider()).map(se);await i(ae,P,pe);const d=ae;s.push(`m/${ne(Object.assign({},ae.__smithy_context?.features,d.__aws_sdk_context?.features))}`);const p=P?.customUserAgent?.map(se)||[],o=await P.userAgentAppId();o&&s.push(se([`app/${o}`]));const l=(0,T.vL)(),h=(l?[l]:[]).concat([...s,...f,...p]).join(v),k=[...s.filter(a=>a.startsWith("aws-sdk-")),...p].join(v);return P.runtime!=="browser"?(k&&(X[N]=X[N]?`${X[m]} ${k}`:k),X[m]=h):X[N]=h,Y({...pe,request:F})},se=P=>{const Y=P[0].split(D).map(f=>f.replace(B,V)).join(D),ae=P[1]?.replace(W,V),pe=Y.indexOf(D),F=Y.substring(0,pe);let X=Y.substring(pe+1);return F==="api"&&(X=X.toLowerCase()),[F,X,ae].filter(f=>f&&f.length>0).reduce((f,s,d)=>{switch(d){case 0:return s;case 1:return`${f}/${s}`;default:return`${f}#${s}`}},"")},g={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},L=P=>({applyToStack:Y=>{Y.add(Ee(P),g)}})},63928:(ue,H,u)=>{u.d(H,{Rq:()=>y,$3:()=>w});const y=E=>{let I=async()=>{if(E.region===void 0)throw new Error("Region is missing from runtimeConfig");const i=E.region;return typeof i=="string"?i:i()};return{setRegion(i){I=i},region(){return I}}},w=E=>({region:E.region()}),R="AWS_REGION",M="region",T={environmentVariableSelector:E=>E[R],configFileSelector:E=>E[M],default:()=>{throw new Error("Region is missing")}},S={preferredFile:"credentials"}},70292:(ue,H,u)=>{u.d(H,{UF:()=>D,vL:()=>v});var y=u(18393);const w=(B,W=!1)=>{if(W){for(const V of B.split("."))if(!w(V))return!1;return!0}return!(!(0,y.X8)(B)||B.length<3||B.length>63||B!==B.toLowerCase()||(0,y.oX)(B))},R=":",M="/",T=B=>{const W=B.split(R);if(W.length<6)return null;const[V,ee,ne,Ee,se,...g]=W;if(V!=="arn"||ee===""||ne===""||g.join(R)==="")return null;const L=g.map(P=>P.split(M)).flat();return{partition:ee,service:ne,region:Ee,accountId:se,resourceId:L}};let E=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"AWS ISOF global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}}],"version":"1.1"}'),I="";const i=B=>{const{partitions:W}=E;for(const ee of W){const{regions:ne,outputs:Ee}=ee;for(const[se,g]of Object.entries(ne))if(se===B)return{...Ee,...g}}for(const ee of W){const{regionRegex:ne,outputs:Ee}=ee;if(new RegExp(ne).test(B))return{...Ee}}const V=W.find(ee=>ee.id==="aws");if(!V)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...V.outputs}},m=(B,W="")=>{E=B,I=W},N=()=>{m(partitionsInfo,"")},v=()=>I,D={isVirtualHostableS3Bucket:w,parseArn:T,partition:i};y.mw.aws=D},79119:(ue,H,u)=>{u.d(H,{hV:()=>N,pf:()=>T});var y=u(70857),w=u(932);const R={isCrtAvailable:!1},M=()=>R.isCrtAvailable?["md/crt-avail"]:null,T=({serviceId:v,clientVersion:D})=>async B=>{const W=[["aws-sdk-js",D],["ua","2.1"],[`os/${(0,y.platform)()}`,(0,y.release)()],["lang/js"],["md/nodejs",`${w.versions.node}`]],V=M();V&&W.push(V),v&&W.push([`api/${v}`,D]),w.env.AWS_EXECUTION_ENV&&W.push([`exec-env/${w.env.AWS_EXECUTION_ENV}`]);const ee=await B?.userAgentAppId?.();return ee?[...W,[`app/${ee}`]]:[...W]},S=null;var E=u(20505);const I="AWS_SDK_UA_APP_ID",i="sdk_ua_app_id",m="sdk-ua-app-id",N={environmentVariableSelector:v=>v[I],configFileSelector:v=>v[i]??v[m],default:E.bM}},54855:(ue,H,u)=>{u.d(H,{zH:()=>ee,GG:()=>V,e$:()=>S,Ko:()=>m,TD:()=>se});const y=(g,L,P)=>{if(L in g){if(g[L]==="true")return!0;if(g[L]==="false")return!1;throw new Error(`Cannot load ${P} "${L}". Expected "true" or "false", got ${g[L]}.`)}};var w;(function(g){g.ENV="env",g.CONFIG="shared config entry"})(w||(w={}));const R="AWS_USE_DUALSTACK_ENDPOINT",M="use_dualstack_endpoint",T=!1,S={environmentVariableSelector:g=>y(g,R,w.ENV),configFileSelector:g=>y(g,M,w.CONFIG),default:!1},E="AWS_USE_FIPS_ENDPOINT",I="use_fips_endpoint",i=!1,m={environmentVariableSelector:g=>y(g,E,w.ENV),configFileSelector:g=>y(g,I,w.CONFIG),default:!1};var N=u(44487);const v=g=>{const{endpoint:L,urlParser:P}=g;return{...g,tls:g.tls??!0,endpoint:normalizeProvider(typeof L=="string"?P(L):L),isCustomEndpoint:!0,useDualstackEndpoint:normalizeProvider(g.useDualstackEndpoint??!1)}},D=g=>{const L=normalizeProvider(g.useDualstackEndpoint??!1),{endpoint:P,useFipsEndpoint:Y,urlParser:ae}=g;return{...g,tls:g.tls??!0,endpoint:P?normalizeProvider(typeof P=="string"?ae(P):P):()=>getEndpointFromRegion({...g,useDualstackEndpoint:L,useFipsEndpoint:Y}),isCustomEndpoint:!!P,useDualstackEndpoint:L}},B="AWS_REGION",W="region",V={environmentVariableSelector:g=>g[B],configFileSelector:g=>g[W],default:()=>{throw new Error("Region is missing")}},ee={preferredFile:"credentials"},ne=g=>typeof g=="string"&&(g.startsWith("fips-")||g.endsWith("-fips")),Ee=g=>ne(g)?["fips-aws-global","aws-fips"].includes(g)?"us-east-1":g.replace(/fips-(dkr-|prod-)?|-fips/,""):g,se=g=>{const{region:L,useFipsEndpoint:P}=g;if(!L)throw new Error("Region is missing");return{...g,region:async()=>{if(typeof L=="string")return Ee(L);const Y=await L();return Ee(Y)},useFipsEndpoint:async()=>{const Y=typeof L=="string"?L:await L();return ne(Y)?!0:typeof P!="function"?Promise.resolve(!!P):P()}}}},94344:(ue,H,u)=>{u.d(H,{h$:()=>se,mR:()=>P,e:()=>F,wB:()=>E,lW:()=>V,OC:()=>pe,K4:()=>X,te:()=>ee,lI:()=>ne.lI,J7:()=>Ee});var y=u(12251);const w=f=>f[SMITHY_CONTEXT_KEY]||(f[SMITHY_CONTEXT_KEY]={});var R=u(44487);function M(f){const s=new Map;for(const d of f)s.set(d.schemeId,d);return s}const T=(f,s)=>(d,p)=>async o=>{const l=f.httpAuthSchemeProvider(await s.httpAuthSchemeParametersProvider(f,p,o.input)),h=M(f.httpAuthSchemes),k=(0,R.u)(p),a=[];for(const n of l){const t=h.get(n.schemeId);if(!t){a.push(`HttpAuthScheme \`${n.schemeId}\` was not enabled for this service.`);continue}const c=t.identityProvider(await s.identityProviderConfigProvider(f));if(!c){a.push(`HttpAuthScheme \`${n.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:A={},signingProperties:_={}}=n.propertiesExtractor?.(f,p)||{};n.identityProperties=Object.assign(n.identityProperties||{},A),n.signingProperties=Object.assign(n.signingProperties||{},_),k.selectedHttpAuthScheme={httpAuthOption:n,identity:await c(n.identityProperties),signer:t.signer};break}if(!k.selectedHttpAuthScheme)throw new Error(a.join(`
`));return d(o)},S={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},E=(f,{httpAuthSchemeParametersProvider:s,identityProviderConfigProvider:d})=>({applyToStack:p=>{p.addRelativeTo(T(f,{httpAuthSchemeParametersProvider:s,identityProviderConfigProvider:d}),S)}});var I=u(96720);const i={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:I.Ou.name},m=(f,{httpAuthSchemeParametersProvider:s,identityProviderConfigProvider:d})=>({applyToStack:p=>{p.addRelativeTo(httpAuthSchemeMiddleware(f,{httpAuthSchemeParametersProvider:s,identityProviderConfigProvider:d}),i)}});var N=u(91551);const v=f=>s=>{throw s},D=(f,s)=>{},B=f=>(s,d)=>async p=>{if(!N.Kd.isInstance(p.request))return s(p);const l=(0,R.u)(d).selectedHttpAuthScheme;if(!l)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:h={}},identity:k,signer:a}=l,n=await s({...p,request:await a.sign(p.request,k,h)}).catch((a.errorHandler||v)(h));return(a.successHandler||D)(n.response,h),n},W={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},V=f=>({applyToStack:s=>{s.addRelativeTo(B(f),W)}}),ee=f=>{if(typeof f=="function")return f;const s=Promise.resolve(f);return()=>s};var ne=u(52218);function Ee(f,s,d){f.__smithy_context?f.__smithy_context.features||(f.__smithy_context.features={}):f.__smithy_context={features:{}},f.__smithy_context.features[s]=d}class se{constructor(s){this.authSchemes=new Map;for(const[d,p]of Object.entries(s))p!==void 0&&this.authSchemes.set(d,p)}getIdentityProvider(s){return this.authSchemes.get(s)}}class g{async sign(s,d,p){if(!p)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!p.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!p.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!d.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");const o=HttpRequest.clone(s);if(p.in===HttpApiKeyAuthLocation.QUERY)o.query[p.name]=d.apiKey;else if(p.in===HttpApiKeyAuthLocation.HEADER)o.headers[p.name]=p.scheme?`${p.scheme} ${d.apiKey}`:d.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+p.in+"`");return o}}class L{async sign(s,d,p){const o=HttpRequest.clone(s);if(!d.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${d.token}`,o}}class P{async sign(s,d,p){return s}}const pe=(f=>s=>F(s)&&s.expiration.getTime()-Date.now()<f)(3e5),F=f=>f.expiration!==void 0,X=(f,s,d)=>{if(f===void 0)return;const p=typeof f!="function"?async()=>Promise.resolve(f):f;let o,l,h,k=!1;const a=async n=>{l||(l=p(n));try{o=await l,h=!0,k=!1}finally{l=void 0}return o};return s===void 0?async n=>((!h||n?.forceRefresh)&&(o=await a(n)),o):async n=>((!h||n?.forceRefresh)&&(o=await a(n)),k?o:d(o)?(s(o)&&await a(n),o):(k=!0,o))}},52218:(ue,H,u)=>{u.d(H,{Px:()=>o,$6:()=>l,lI:()=>k});var y=u(84132),w=u(76053);function R(n,t="utf-8"){return t==="base64"?(0,y.n)(n):(0,w.Pq)(n)}function M(n,t){return t==="base64"?T.mutate((0,y.E)(n)):T.mutate((0,w.ar)(n))}class T extends Uint8Array{static fromString(t,c="utf-8"){switch(typeof t){case"string":return M(t,c);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,T.prototype),t}transformToString(t="utf-8"){return R(this,t)}}var S=u(2203);class E extends S.Duplex{constructor({expectedChecksum:t,checksum:c,source:A,checksumSourceLocation:_,base64Encoder:$}){if(super(),typeof A.pipe=="function")this.source=A;else throw new Error(`@smithy/util-stream: unsupported source type ${A?.constructor?.name??A} in ChecksumStream.`);this.base64Encoder=$??y.n,this.expectedChecksum=t,this.checksum=c,this.checksumSourceLocation=_,this.source.pipe(this)}_read(t){}_write(t,c,A){try{this.checksum.update(t),this.push(t)}catch(_){return A(_)}return A()}async _final(t){try{const c=await this.checksum.digest(),A=this.base64Encoder(c);if(this.expectedChecksum!==A)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${A}" in response header "${this.checksumSourceLocation}".`))}catch(c){return t(c)}return this.push(null),t()}}const I=typeof ReadableStream=="function"?ReadableStream:function(){};class i extends null{}const m=({expectedChecksum:n,checksum:t,source:c,checksumSourceLocation:A,base64Encoder:_})=>{if(!isReadableStream(c))throw new Error(`@smithy/util-stream: unsupported source type ${c?.constructor?.name??c} in ChecksumStream.`);const $=_??toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const K=new TransformStream({start(){},async transform(j,ie){t.update(j),ie.enqueue(j)},async flush(j){const ie=await t.digest(),Z=$(ie);if(n!==Z){const we=new Error(`Checksum mismatch: expected "${n}" but received "${Z}" in response header "${A}".`);j.error(we)}else j.terminate()}});c.pipeThrough(K);const Q=K.readable;return Object.setPrototypeOf(Q,ChecksumStream.prototype),Q};function N(n){return typeof ReadableStream=="function"&&isReadableStream(n.source)?createChecksumStreamWeb(n):new ChecksumStream(n)}var v=u(57075);function D(n,t,c){if(isReadableStream(n))return createBufferedReadableStream(n,t,c);const A=new Readable({read(){}});let _=!1,$=0;const K=["",new ByteArrayCollector(j=>new Uint8Array(j)),new ByteArrayCollector(j=>Buffer.from(new Uint8Array(j)))];let Q=-1;return n.on("data",j=>{const ie=modeOf(j);if(Q!==ie&&(Q>=0&&A.push(flush(K,Q)),Q=ie),Q===-1){A.push(j);return}const Z=sizeOf(j);$+=Z;const we=sizeOf(K[Q]);if(Z>=t&&we===0)A.push(j);else{const Fe=merge(K,Q,j);!_&&$>t*2&&(_=!0,c?.warn(`@smithy/util-stream - stream chunk size ${Z} is below threshold of ${t}, automatically buffering.`)),Fe>=t&&A.push(flush(K,Q))}}),n.on("end",()=>{if(Q!==-1){const j=flush(K,Q);sizeOf(j)>0&&A.push(j)}A.push(null)}),A}const B=(n,t)=>{const{base64Encoder:c,bodyLengthChecker:A,checksumAlgorithmFn:_,checksumLocationName:$,streamHasher:K}=t,Q=c!==void 0&&_!==void 0&&$!==void 0&&K!==void 0,j=Q?K(_,n):void 0,ie=new Readable({read:()=>{}});return n.on("data",Z=>{const we=A(Z)||0;ie.push(`${we.toString(16)}\r
`),ie.push(Z),ie.push(`\r
`)}),n.on("end",async()=>{if(ie.push(`0\r
`),Q){const Z=c(await j);ie.push(`${$}:${Z}\r
`),ie.push(`\r
`)}ie.push(null)}),ie},W=(n,t)=>isReadableStream(n)?headWebStream(n,t):new Promise((c,A)=>{const _=new V;_.limit=t,n.pipe(_),n.on("error",$=>{_.end(),A($)}),_.on("error",A),_.on("finish",function(){const $=new Uint8Array(Buffer.concat(this.buffers));c($)})});class V extends S.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,c,A){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){const _=this.bytesBuffered-this.limit,$=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=$.subarray(0,$.byteLength-_),this.emit("finish")}A()}}var ee=u(80167),ne=u(36866),Ee=u(91551);const se={supported:void 0};class g{static create(t){return typeof t?.handle=="function"?t:new g(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(c=>c||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),se.supported===void 0&&(se.supported=Boolean(typeof Request<"u"&&"keepalive"in createRequest("https://[::1]")))}destroy(){}async handle(t,{abortSignal:c}={}){this.config||(this.config=await this.configProvider);const A=this.config.requestTimeout,_=this.config.keepAlive===!0,$=this.config.credentials;if(c?.aborted){const Ie=new Error("Request aborted");return Ie.name="AbortError",Promise.reject(Ie)}let K=t.path;const Q=buildQueryString(t.query||{});Q&&(K+=`?${Q}`),t.fragment&&(K+=`#${t.fragment}`);let j="";if(t.username!=null||t.password!=null){const Ie=t.username??"",Be=t.password??"";j=`${Ie}:${Be}@`}const{port:ie,method:Z}=t,we=`${t.protocol}//${j}${t.hostname}${ie?`:${ie}`:""}${K}`,Fe=Z==="GET"||Z==="HEAD"?void 0:t.body,$e={body:Fe,headers:new Headers(t.headers),method:Z,credentials:$};this.config?.cache&&($e.cache=this.config.cache),Fe&&($e.duplex="half"),typeof AbortController<"u"&&($e.signal=c),se.supported&&($e.keepalive=_),typeof this.config.requestInit=="function"&&Object.assign($e,this.config.requestInit(t));let _e=()=>{};const Se=createRequest(we,$e),be=[fetch(Se).then(Ie=>{const Be=Ie.headers,Le={};for(const je of Be.entries())Le[je[0]]=je[1];return Ie.body!=null?{response:new HttpResponse({headers:Le,reason:Ie.statusText,statusCode:Ie.status,body:Ie.body})}:Ie.blob().then(je=>({response:new HttpResponse({headers:Le,reason:Ie.statusText,statusCode:Ie.status,body:je})}))}),requestTimeout(A)];return c&&be.push(new Promise((Ie,Be)=>{const Le=()=>{const De=new Error("Request aborted");De.name="AbortError",Be(De)};if(typeof c.addEventListener=="function"){const De=c;De.addEventListener("abort",Le,{once:!0}),_e=()=>De.removeEventListener("abort",Le)}else c.onabort=Le})),Promise.race(be).finally(_e)}updateHttpClientConfig(t,c){this.config=void 0,this.configProvider=this.configProvider.then(A=>(A[t]=c,A))}httpHandlerConfigs(){return this.config??{}}}const L=async n=>typeof Blob=="function"&&n instanceof Blob||n.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await n.arrayBuffer()):P(n):Y(n);async function P(n){const t=await ae(n),c=fromBase64(t);return new Uint8Array(c)}async function Y(n){const t=[],c=n.getReader();let A=!1,_=0;for(;!A;){const{done:Q,value:j}=await c.read();j&&(t.push(j),_+=j.length),A=Q}const $=new Uint8Array(_);let K=0;for(const Q of t)$.set(Q,K),K+=Q.length;return $}function ae(n){return new Promise((t,c)=>{const A=new FileReader;A.onloadend=()=>{if(A.readyState!==2)return c(new Error("Reader aborted too early"));const _=A.result??"",$=_.indexOf(","),K=$>-1?$+1:_.length;t(_.substring(K))},A.onabort=()=>c(new Error("Read aborted")),A.onerror=()=>c(A.error),A.readAsDataURL(n)})}var pe=u(4444);const F="The stream has already been transformed.",X=n=>{if(!f(n)&&!isReadableStream(n)){const _=n?.__proto__?.constructor?.name||n;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${_}`)}let t=!1;const c=async()=>{if(t)throw new Error(F);return t=!0,await streamCollector(n)},A=_=>{if(typeof _.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return _.stream()};return Object.assign(n,{transformToByteArray:c,transformToString:async _=>{const $=await c();if(_==="base64")return toBase64($);if(_==="hex")return toHex($);if(_===void 0||_==="utf8"||_==="utf-8")return toUtf8($);if(typeof TextDecoder=="function")return new TextDecoder(_).decode($);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(F);if(t=!0,f(n))return A(n);if(isReadableStream(n))return n;throw new Error(`Cannot transform payload to web stream, got ${n}`)}})},f=n=>typeof Blob=="function"&&n instanceof Blob,s="The stream has already been transformed.",d=n=>{if(!(n instanceof Readable))try{return sdkStreamMixinReadableStream(n)}catch{const _=n?.__proto__?.constructor?.name||n;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${_}`)}let t=!1;const c=async()=>{if(t)throw new Error(s);return t=!0,await streamCollector(n)};return Object.assign(n,{transformToByteArray:c,transformToString:async A=>{const _=await c();return A===void 0||Buffer.isEncoding(A)?fromArrayBuffer(_.buffer,_.byteOffset,_.byteLength).toString(A):new TextDecoder(A).decode(_)},transformToWebStream:()=>{if(t)throw new Error(s);if(n.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Readable.toWeb(n)}})};async function p(n){if(isReadableStream(n)||isBlob(n))return splitWebStream(n);const t=new PassThrough,c=new PassThrough;return n.pipe(t),n.pipe(c),[t,c]}const o=async(n=new Uint8Array,t)=>{if(n instanceof Uint8Array)return T.mutate(n);if(!n)return T.mutate(new Uint8Array);const c=t.streamCollector(n);return T.mutate(await c)};function l(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const h=(n,t,c,A,_,$)=>{if(t!=null&&t[c]!==void 0){const K=A();if(K.length<=0)throw new Error("Empty value provided for input HTTP label: "+c+".");n=n.replace(_,$?K.split("/").map(Q=>l(Q)).join("/"):l(K))}else throw new Error("No value provided for input HTTP label: "+c+".");return n};function k(n,t){return new a(n,t)}class a{constructor(t,c){this.input=t,this.context=c,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:t,protocol:c="https",port:A,path:_}=await this.context.endpoint();this.path=_;for(const $ of this.resolvePathStack)$(this.path);return new Ee.Kd({protocol:c,hostname:this.hostname||t,port:A,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(c=>{this.path=`${c?.endsWith("/")?c.slice(0,-1):c||""}`+t}),this}p(t,c,A,_){return this.resolvePathStack.push($=>{this.path=h($,this.input,t,c,A,_)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}},73469:(ue,H,u)=>{u.d(H,{V:()=>E});var y=u(36866),w=u(76053),R=u(20181),M=u.n(R),T=u(76982),S=u.n(T);class E{constructor(m,N){this.algorithmIdentifier=m,this.secret=N,this.reset()}update(m,N){this.hash.update((0,w.Fo)(I(m,N)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,T.createHmac)(this.algorithmIdentifier,I(this.secret)):(0,T.createHash)(this.algorithmIdentifier)}}function I(i,m){return R.Buffer.isBuffer(i)?i:typeof i=="string"?(0,y.s)(i,m):ArrayBuffer.isView(i)?(0,y.Q)(i.buffer,i.byteOffset,i.byteLength):(0,y.Q)(i)}},15367:(ue,H,u)=>{u.d(H,{m:()=>y});const y=w=>typeof ArrayBuffer=="function"&&w instanceof ArrayBuffer||Object.prototype.toString.call(w)==="[object ArrayBuffer]"},99329:(ue,H,u)=>{u.d(H,{vK:()=>T});var y=u(91551);const w="content-length";function R(S){return E=>async I=>{const i=I.request;if(y.Kd.isInstance(i)){const{body:m,headers:N}=i;if(m&&Object.keys(N).map(v=>v.toLowerCase()).indexOf(w)===-1)try{const v=S(m);i.headers={...i.headers,[w]:String(v)}}catch{}}return E({...I,request:i})}}const M={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},T=S=>({applyToStack:E=>{E.add(R(S.bodyLengthChecker),M)}})},5717:(ue,H,u)=>{u.d(H,{rD:()=>ae,Co:()=>pe});const y=async F=>{const X=F?.Bucket||"";if(typeof F.Bucket=="string"&&(F.Bucket=X.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),I(X)){if(F.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!E(X)||X.indexOf(".")!==-1&&!String(F.Endpoint).startsWith("http:")||X.toLowerCase()!==X||X.length<3)&&(F.ForcePathStyle=!0);return F.DisableMultiRegionAccessPoints&&(F.disableMultiRegionAccessPoints=!0,F.DisableMRAP=!0),F},w=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,R=/(\d+\.){3}\d+/,M=/\.\./,T=/\./,S=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,E=F=>w.test(F)&&!R.test(F)&&!M.test(F),I=F=>{const[X,f,s,,,d]=F.split(":"),p=X==="arn"&&F.split(":").length>=6,o=Boolean(p&&f&&s&&d);if(p&&!o)throw new Error(`Invalid ARN: ${F} was an invalid ARN.`);return o},i=(F,X,f)=>{const s=async()=>{const d=f[F]??f[X];return typeof d=="function"?d():d};return F==="credentialScope"||X==="CredentialScope"?async()=>{const d=typeof f.credentials=="function"?await f.credentials():f.credentials;return d?.credentialScope??d?.CredentialScope}:F==="accountId"||X==="AccountId"?async()=>{const d=typeof f.credentials=="function"?await f.credentials():f.credentials;return d?.accountId??d?.AccountId}:F==="endpoint"||X==="endpoint"?async()=>{const d=await s();if(d&&typeof d=="object"){if("url"in d)return d.url.href;if("hostname"in d){const{protocol:p,hostname:o,port:l,path:h}=d;return`${p}//${o}${l?":"+l:""}${h}`}}return d}:s};var m=u(83995),N=u(28350);const v="AWS_ENDPOINT_URL",D="endpoint_url",B=F=>({environmentVariableSelector:X=>{const f=F.split(" ").map(p=>p.toUpperCase()),s=X[[v,...f].join("_")];if(s)return s;const d=X[v];if(d)return d},configFileSelector:(X,f)=>{if(f&&X.services){const d=f[["services",X.services].join(N.QD)];if(d){const p=F.split(" ").map(l=>l.toLowerCase()),o=d[[p.join("_"),D].join(N.QD)];if(o)return o}}const s=X[D];if(s)return s},default:void 0}),W=async F=>(0,m.Z)(B(F??""))();var V=u(89465);const ee=F=>typeof F=="object"?"url"in F?(0,V.D)(F.url):F:(0,V.D)(F),ne=async(F,X,f,s)=>{if(!f.endpoint){let o;f.serviceConfiguredEndpoint?o=await f.serviceConfiguredEndpoint():o=await W(f.serviceId),o&&(f.endpoint=()=>Promise.resolve(ee(o)))}const d=await Ee(F,X,f);if(typeof f.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return f.endpointProvider(d,s)},Ee=async(F,X,f)=>{const s={},d=X?.getEndpointParameterInstructions?.()||{};for(const[p,o]of Object.entries(d))switch(o.type){case"staticContextParams":s[p]=o.value;break;case"contextParams":s[p]=F[o.name];break;case"clientContextParams":case"builtInParams":s[p]=await i(o.name,p,f)();break;case"operationContextParams":s[p]=o.get(F);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(d).length===0&&Object.assign(s,f),String(f.serviceId).toLowerCase()==="s3"&&await y(s),s};var se=u(94344),g=u(44487);const L=({config:F,instructions:X})=>(f,s)=>async d=>{F.endpoint&&(0,se.J7)(s,"ENDPOINT_OVERRIDE","N");const p=await ne(d.input,{getEndpointParameterInstructions(){return X}},{...F},s);s.endpointV2=p,s.authSchemes=p.properties?.authSchemes;const o=s.authSchemes?.[0];if(o){s.signing_region=o.signingRegion,s.signing_service=o.signingName;const h=(0,g.u)(s)?.selectedHttpAuthScheme?.httpAuthOption;h&&(h.signingProperties=Object.assign(h.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return f({...d})};var P=u(96720);const Y={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:P.Ou.name},ae=(F,X)=>({applyToStack:f=>{f.addRelativeTo(L({config:F,instructions:X}),Y)}}),pe=F=>{const X=F.tls??!0,{endpoint:f}=F,s=f!=null?async()=>ee(await(0,g.t)(f)()):void 0,p={...F,endpoint:s,tls:X,isCustomEndpoint:!!f,useDualstackEndpoint:(0,g.t)(F.useDualstackEndpoint??!1),useFipsEndpoint:(0,g.t)(F.useFipsEndpoint??!1)};let o;return p.serviceConfiguredEndpoint=async()=>(F.serviceId&&!o&&(o=W(F.serviceId)),o),p}},92146:(ue,H,u)=>{u.d(H,{qs:()=>W,kN:()=>Ee,ey:()=>d,$z:()=>V});var y=u(8275),w=u(91551),R=u(62166),M=u(3682);const T=(o,l)=>{const h=o,k=l?.noRetryIncrement??y.XP,a=l?.retryCost??y.XS,n=l?.timeoutRetryCost??y.Rn;let t=o;const c=K=>K.name==="TimeoutError"?n:a,A=K=>c(K)<=t;return Object.freeze({hasRetryTokens:A,retrieveRetryTokens:K=>{if(!A(K))throw new Error("No retry token available");const Q=c(K);return t-=Q,Q},releaseRetryTokens:K=>{t+=K??k,t=Math.min(t,h)}})},S=(o,l)=>Math.floor(Math.min(y.G8,Math.random()*2**l*o)),E=o=>o?(0,R.S0)(o)||(0,R.h5)(o)||(0,R.Qb)(o)||(0,R.bV)(o):!1,I=o=>o instanceof Error?o:o instanceof Object?Object.assign(new Error,o):typeof o=="string"?new Error(o):new Error(`AWS SDK error wrapper for ${o}`);class i{constructor(l,h){this.maxAttemptsProvider=l,this.mode=y.cm.STANDARD,this.retryDecider=h?.retryDecider??E,this.delayDecider=h?.delayDecider??S,this.retryQuota=h?.retryQuota??T(y.Df)}shouldRetry(l,h,k){return h<k&&this.retryDecider(l)&&this.retryQuota.hasRetryTokens(l)}async getMaxAttempts(){let l;try{l=await this.maxAttemptsProvider()}catch{l=y.Gz}return l}async retry(l,h,k){let a,n=0,t=0;const c=await this.getMaxAttempts(),{request:A}=h;for(w.Kd.isInstance(A)&&(A.headers[y.l5]=(0,M.A)());;)try{w.Kd.isInstance(A)&&(A.headers[y.ok]=`attempt=${n+1}; max=${c}`),k?.beforeRequest&&await k.beforeRequest();const{response:_,output:$}=await l(h);return k?.afterRequest&&k.afterRequest(_),this.retryQuota.releaseRetryTokens(a),$.$metadata.attempts=n+1,$.$metadata.totalRetryDelay=t,{response:_,output:$}}catch(_){const $=I(_);if(n++,this.shouldRetry($,n,c)){a=this.retryQuota.retrieveRetryTokens($);const K=this.delayDecider((0,R.Qb)($)?y.jh:y.bp,n),Q=m($.$response),j=Math.max(Q||0,K);t+=j,await new Promise(ie=>setTimeout(ie,j));continue}throw $.$metadata||($.$metadata={}),$.$metadata.attempts=n,$.$metadata.totalRetryDelay=t,$}}}const m=o=>{if(!w.cS.isInstance(o))return;const l=Object.keys(o.headers).find(n=>n.toLowerCase()==="retry-after");if(!l)return;const h=o.headers[l],k=Number(h);return Number.isNaN(k)?new Date(h).getTime()-Date.now():k*1e3};class N extends i{constructor(l,h){const{rateLimiter:k,...a}=h??{};super(l,a),this.rateLimiter=k??new y.QJ,this.mode=y.cm.ADAPTIVE}async retry(l,h){return super.retry(l,h,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:k=>{this.rateLimiter.updateClientSendingRate(k)}})}}var v=u(44487);const D="AWS_MAX_ATTEMPTS",B="max_attempts",W={environmentVariableSelector:o=>{const l=o[D];if(!l)return;const h=parseInt(l);if(Number.isNaN(h))throw new Error(`Environment variable ${D} mast be a number, got "${l}"`);return h},configFileSelector:o=>{const l=o[B];if(!l)return;const h=parseInt(l);if(Number.isNaN(h))throw new Error(`Shared config file entry ${B} mast be a number, got "${l}"`);return h},default:y.Gz},V=o=>{const{retryStrategy:l}=o,h=(0,v.t)(o.maxAttempts??y.Gz);return{...o,maxAttempts:h,retryStrategy:async()=>l||(await(0,v.t)(o.retryMode)()===y.cm.ADAPTIVE?new y.Y(h):new y.ru(h))}},ee="AWS_RETRY_MODE",ne="retry_mode",Ee={environmentVariableSelector:o=>o[ee],configFileSelector:o=>o[ne],default:y.L0},se=()=>o=>async l=>{const{request:h}=l;return HttpRequest.isInstance(h)&&(delete h.headers[INVOCATION_ID_HEADER],delete h.headers[REQUEST_HEADER]),o(l)},g={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},L=o=>({applyToStack:l=>{l.addRelativeTo(se(),g)}});var P=u(12799),Y=u(2203);const ae=o=>o?.body instanceof Y.Readable||typeof ReadableStream<"u"&&o?.body instanceof ReadableStream,pe=o=>(l,h)=>async k=>{let a=await o.retryStrategy();const n=await o.maxAttempts();if(F(a)){a=a;let t=await a.acquireInitialRetryToken(h.partition_id),c=new Error,A=0,_=0;const{request:$}=k,K=w.Kd.isInstance($);for(K&&($.headers[y.l5]=(0,M.A)());;)try{K&&($.headers[y.ok]=`attempt=${A+1}; max=${n}`);const{response:Q,output:j}=await l(k);return a.recordSuccess(t),j.$metadata.attempts=A+1,j.$metadata.totalRetryDelay=_,{response:Q,output:j}}catch(Q){const j=X(Q);if(c=I(Q),K&&ae($))throw(h.logger instanceof P.N4?console:h.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{t=await a.refreshRetryTokenForRetry(t,j)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=A+1,c.$metadata.totalRetryDelay=_,c}A=t.getRetryCount();const ie=t.getRetryDelay();_+=ie,await new Promise(Z=>setTimeout(Z,ie))}}else return a=a,a?.mode&&(h.userAgent=[...h.userAgent||[],["cfg/retry-mode",a.mode]]),a.retry(l,k)},F=o=>typeof o.acquireInitialRetryToken<"u"&&typeof o.refreshRetryTokenForRetry<"u"&&typeof o.recordSuccess<"u",X=o=>{const l={error:o,errorType:f(o)},h=p(o.$response);return h&&(l.retryAfterHint=h),l},f=o=>(0,R.Qb)(o)?"THROTTLING":(0,R.bV)(o)?"TRANSIENT":(0,R.GQ)(o)?"SERVER_ERROR":"CLIENT_ERROR",s={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},d=o=>({applyToStack:l=>{l.add(pe(o),s)}}),p=o=>{if(!w.cS.isInstance(o))return;const l=Object.keys(o.headers).find(n=>n.toLowerCase()==="retry-after");if(!l)return;const h=o.headers[l],k=Number(h);return Number.isNaN(k)?new Date(h):new Date(k*1e3)}},96720:(ue,H,u)=>{u.d(H,{TM:()=>T,Ou:()=>M});const y=(S,E)=>(I,i)=>async m=>{const{response:N}=await I(m);try{const v=await E(N,S);return{response:N,output:v}}catch(v){if(Object.defineProperty(v,"$response",{value:N}),!("$metadata"in v)){const D="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{v.message+=`
  `+D}catch{!i.logger||i.logger?.constructor?.name==="NoOpLogger"?console.warn(D):i.logger?.warn?.(D)}typeof v.$responseBodyText<"u"&&v.$response&&(v.$response.body=v.$responseBodyText)}throw v}},w=(S,E)=>(I,i)=>async m=>{const N=i.endpointV2?.url&&S.urlParser?async()=>S.urlParser(i.endpointV2.url):S.endpoint;if(!N)throw new Error("No valid endpoint provider available.");const v=await E(m.input,{...S,endpoint:N});return I({...m,request:v})},R={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},M={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function T(S,E,I){return{applyToStack:i=>{i.add(y(S,I),R),i.add(w(S,E),M)}}}},83995:(ue,H,u)=>{u.d(H,{Z:()=>I});var y=u(14904);function w(i){try{const m=new Set(Array.from(i.match(/([A-Z_]){3,}/g)??[]));return m.delete("CONFIG"),m.delete("CONFIG_PREFIX_SEPARATOR"),m.delete("ENV"),[...m].join(", ")}catch{return i}}const R=(i,m)=>async()=>{try{const N=i(process.env);if(N===void 0)throw new Error;return N}catch(N){throw new y.C1(N.message||`Not found in ENV: ${w(i.toString())}`,{logger:m})}};var M=u(28350);const T=(i,{preferredFile:m="config",...N}={})=>async()=>{const v=(0,M.Bz)(N),{configFile:D,credentialsFile:B}=await(0,M.p6)(N),W=B[v]||{},V=D[v]||{},ee=m==="config"?{...W,...V}:{...V,...W};try{const Ee=i(ee,m==="config"?D:B);if(Ee===void 0)throw new Error;return Ee}catch(ne){throw new y.C1(ne.message||`Not found in config files w/ profile [${v}]: ${w(i.toString())}`,{logger:N.logger})}},S=i=>typeof i=="function",E=i=>S(i)?async()=>await i():(0,y.VR)(i),I=({environmentVariableSelector:i,configFileSelector:m,default:N},v={})=>(0,y.Bj)((0,y.cy)(R(i),T(m,v),E(N)))},80167:(ue,H,u)=>{u.d(H,{$c:()=>se,kv:()=>pe});var y=u(91551),w=u(57627);function R(f){const s=[];for(let d of Object.keys(f).sort()){const p=f[d];if(d=(0,w.o)(d),Array.isArray(p))for(let o=0,l=p.length;o<l;o++)s.push(`${d}=${(0,w.o)(p[o])}`);else{let o=d;(p||typeof p=="string")&&(o+=`=${(0,w.o)(p)}`),s.push(o)}}return s.join("&")}var M=u(58611),T=u(65692);const S=["ECONNRESET","EPIPE","ETIMEDOUT"],E=f=>{const s={};for(const d of Object.keys(f)){const p=f[d];s[d]=Array.isArray(p)?p.join(","):p}return s},I={setTimeout:(f,s)=>setTimeout(f,s),clearTimeout:f=>clearTimeout(f)},i=1e3,m=(f,s,d=0)=>{if(!d)return-1;const p=o=>{const l=I.setTimeout(()=>{f.destroy(),s(Object.assign(new Error(`Socket timed out without establishing a connection within ${d} ms`),{name:"TimeoutError"}))},d-o),h=k=>{k?.connecting?k.on("connect",()=>{I.clearTimeout(l)}):I.clearTimeout(l)};f.socket?h(f.socket):f.on("socket",h)};return d<2e3?(p(0),0):I.setTimeout(p.bind(null,i),i)},N=3e3,v=(f,{keepAlive:s,keepAliveMsecs:d},p=N)=>{if(s!==!0)return-1;const o=()=>{f.socket?f.socket.setKeepAlive(s,d||0):f.on("socket",l=>{l.setKeepAlive(s,d||0)})};return p===0?(o(),0):I.setTimeout(o,p)},D=3e3,B=(f,s,d=Ee)=>{const p=o=>{const l=d-o,h=()=>{f.destroy(),s(Object.assign(new Error(`Connection timed out after ${d} ms`),{name:"TimeoutError"}))};f.socket?(f.socket.setTimeout(l,h),f.on("close",()=>f.socket?.removeListener("timeout",h))):f.setTimeout(l,h)};return 0<d&&d<6e3?(p(0),0):I.setTimeout(p.bind(null,d===0?0:D),D)};var W=u(2203);const V=6e3;async function ee(f,s,d=V){const p=s.headers??{},o=p.Expect||p.expect;let l=-1,h=!0;o==="100-continue"&&(h=await Promise.race([new Promise(k=>{l=Number(I.setTimeout(()=>k(!0),Math.max(V,d)))}),new Promise(k=>{f.on("continue",()=>{I.clearTimeout(l),k(!0)}),f.on("response",()=>{I.clearTimeout(l),k(!1)}),f.on("error",()=>{I.clearTimeout(l),k(!1)})})])),h&&ne(f,s.body)}function ne(f,s){if(s instanceof W.Readable){s.pipe(f);return}if(s){if(Buffer.isBuffer(s)||typeof s=="string"){f.end(s);return}const d=s;if(typeof d=="object"&&d.buffer&&typeof d.byteOffset=="number"&&typeof d.byteLength=="number"){f.end(Buffer.from(d.buffer,d.byteOffset,d.byteLength));return}f.end(Buffer.from(s));return}f.end()}const Ee=0;class se{static create(s){return typeof s?.handle=="function"?s:new se(s)}static checkSocketUsage(s,d,p=console){const{sockets:o,requests:l,maxSockets:h}=s;if(typeof h!="number"||h===1/0)return d;const k=15e3;if(Date.now()-k<d)return d;if(o&&l)for(const a in o){const n=o[a]?.length??0,t=l[a]?.length??0;if(n>=h&&t>=2*h)return p?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${n} and ${t} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return d}constructor(s){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((d,p)=>{typeof s=="function"?s().then(o=>{d(this.resolveDefaultConfig(o))}).catch(p):d(this.resolveDefaultConfig(s))})}resolveDefaultConfig(s){const{requestTimeout:d,connectionTimeout:p,socketTimeout:o,socketAcquisitionWarningTimeout:l,httpAgent:h,httpsAgent:k}=s||{},a=!0,n=50;return{connectionTimeout:p,requestTimeout:d??o,socketAcquisitionWarningTimeout:l,httpAgent:(()=>h instanceof M.Agent||typeof h?.destroy=="function"?h:new M.Agent({keepAlive:a,maxSockets:n,...h}))(),httpsAgent:(()=>k instanceof T.Agent||typeof k?.destroy=="function"?k:new T.Agent({keepAlive:a,maxSockets:n,...k}))(),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(s,{abortSignal:d}={}){return this.config||(this.config=await this.configProvider),new Promise((p,o)=>{let l;const h=[],k=async Z=>{await l,h.forEach(I.clearTimeout),p(Z)},a=async Z=>{await l,h.forEach(I.clearTimeout),o(Z)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(d?.aborted){const Z=new Error("Request aborted");Z.name="AbortError",a(Z);return}const n=s.protocol==="https:",t=n?this.config.httpsAgent:this.config.httpAgent;h.push(I.setTimeout(()=>{this.socketWarningTimestamp=se.checkSocketUsage(t,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));const c=R(s.query||{});let A;if(s.username!=null||s.password!=null){const Z=s.username??"",we=s.password??"";A=`${Z}:${we}`}let _=s.path;c&&(_+=`?${c}`),s.fragment&&(_+=`#${s.fragment}`);let $=s.hostname??"";$[0]==="["&&$.endsWith("]")?$=s.hostname.slice(1,-1):$=s.hostname;const K={headers:s.headers,host:$,method:s.method,path:_,port:s.port,agent:t,auth:A},j=(n?T.request:M.request)(K,Z=>{const we=new y.cS({statusCode:Z.statusCode||-1,reason:Z.statusMessage,headers:E(Z.headers),body:Z});k({response:we})});if(j.on("error",Z=>{S.includes(Z.code)?a(Object.assign(Z,{name:"TimeoutError"})):a(Z)}),d){const Z=()=>{j.destroy();const we=new Error("Request aborted");we.name="AbortError",a(we)};if(typeof d.addEventListener=="function"){const we=d;we.addEventListener("abort",Z,{once:!0}),j.once("close",()=>we.removeEventListener("abort",Z))}else d.onabort=Z}h.push(m(j,a,this.config.connectionTimeout)),h.push(B(j,a,this.config.requestTimeout));const ie=K.agent;typeof ie=="object"&&"keepAlive"in ie&&h.push(v(j,{keepAlive:ie.keepAlive,keepAliveMsecs:ie.keepAliveMsecs})),l=ee(j,s,this.config.requestTimeout).catch(Z=>(h.forEach(I.clearTimeout),o(Z)))})}updateHttpClientConfig(s,d){this.config=void 0,this.configProvider=this.configProvider.then(p=>({...p,[s]:d}))}httpHandlerConfigs(){return this.config??{}}}var g=u(85675);class L{constructor(s){this.sessions=[],this.sessions=s??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(s){this.sessions.push(s)}contains(s){return this.sessions.includes(s)}remove(s){this.sessions=this.sessions.filter(d=>d!==s)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(s){for(const d of this.sessions)d===s&&(d.destroyed||d.destroy())}}class P{constructor(s){if(this.sessionCache=new Map,this.config=s,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(s,d){const p=this.getUrlString(s),o=this.sessionCache.get(p);if(o){const a=o.poll();if(a&&!this.config.disableConcurrency)return a}const l=http2.connect(p);this.config.maxConcurrency&&l.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+s.destination.toString())}),l.unref();const h=()=>{l.destroy(),this.deleteSession(p,l)};l.on("goaway",h),l.on("error",h),l.on("frameError",h),l.on("close",()=>this.deleteSession(p,l)),d.requestTimeout&&l.setTimeout(d.requestTimeout,h);const k=this.sessionCache.get(p)||new NodeHttp2ConnectionPool;return k.offerLast(l),this.sessionCache.set(p,k),l}deleteSession(s,d){const p=this.sessionCache.get(s);!p||!p.contains(d)||(p.remove(d),this.sessionCache.set(s,p))}release(s,d){const p=this.getUrlString(s);this.sessionCache.get(p)?.offerLast(d)}destroy(){for(const[s,d]of this.sessionCache){for(const p of d)p.destroyed||p.destroy(),d.remove(p);this.sessionCache.delete(s)}}setMaxConcurrentStreams(s){if(s&&s<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=s}setDisableConcurrentStreams(s){this.config.disableConcurrency=s}getUrlString(s){return s.destination.toString()}}class Y{static create(s){return typeof s?.handle=="function"?s:new Y(s)}constructor(s){this.metadata={handlerProtocol:"h2"},this.connectionManager=new NodeHttp2ConnectionManager({}),this.configProvider=new Promise((d,p)=>{typeof s=="function"?s().then(o=>{d(o||{})}).catch(p):d(s||{})})}destroy(){this.connectionManager.destroy()}async handle(s,{abortSignal:d}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));const{requestTimeout:p,disableConcurrentStreams:o}=this.config;return new Promise((l,h)=>{let k=!1,a;const n=async Se=>{await a,l(Se)},t=async Se=>{await a,h(Se)};if(d?.aborted){k=!0;const Se=new Error("Request aborted");Se.name="AbortError",t(Se);return}const{hostname:c,method:A,port:_,protocol:$,query:K}=s;let Q="";if(s.username!=null||s.password!=null){const Se=s.username??"",be=s.password??"";Q=`${Se}:${be}@`}const j=`${$}//${Q}${c}${_?`:${_}`:""}`,ie={destination:new URL(j)},Z=this.connectionManager.lease(ie,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),we=Se=>{o&&this.destroySession(Z),k=!0,t(Se)},Fe=buildQueryString(K||{});let $e=s.path;Fe&&($e+=`?${Fe}`),s.fragment&&($e+=`#${s.fragment}`);const _e=Z.request({...s.headers,[constants.HTTP2_HEADER_PATH]:$e,[constants.HTTP2_HEADER_METHOD]:A});if(Z.ref(),_e.on("response",Se=>{const be=new HttpResponse({statusCode:Se[":status"]||-1,headers:getTransformedHeaders(Se),body:_e});k=!0,n({response:be}),o&&(Z.close(),this.connectionManager.deleteSession(j,Z))}),p&&_e.setTimeout(p,()=>{_e.close();const Se=new Error(`Stream timed out because of no activity for ${p} ms`);Se.name="TimeoutError",we(Se)}),d){const Se=()=>{_e.close();const be=new Error("Request aborted");be.name="AbortError",we(be)};if(typeof d.addEventListener=="function"){const be=d;be.addEventListener("abort",Se,{once:!0}),_e.once("close",()=>be.removeEventListener("abort",Se))}else d.onabort=Se}_e.on("frameError",(Se,be,Ie)=>{we(new Error(`Frame type id ${Se} in stream id ${Ie} has failed with code ${be}.`))}),_e.on("error",we),_e.on("aborted",()=>{we(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${_e.rstCode}.`))}),_e.on("close",()=>{Z.unref(),o&&Z.destroy(),k||we(new Error("Unexpected error: http2 request did not get a response"))}),a=writeRequestBody(_e,s,p)})}updateHttpClientConfig(s,d){this.config=void 0,this.configProvider=this.configProvider.then(p=>({...p,[s]:d}))}httpHandlerConfigs(){return this.config??{}}destroySession(s){s.destroyed||s.destroy()}}class ae extends W.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(s,d,p){this.bufferedBytes.push(s),p()}}const pe=f=>F(f)?X(f):new Promise((s,d)=>{const p=new ae;f.pipe(p),f.on("error",o=>{p.end(),d(o)}),p.on("error",d),p.on("finish",function(){const o=new Uint8Array(Buffer.concat(this.bufferedBytes));s(o)})}),F=f=>typeof ReadableStream=="function"&&f instanceof ReadableStream;async function X(f){const s=[],d=f.getReader();let p=!1,o=0;for(;!p;){const{done:k,value:a}=await d.read();a&&(s.push(a),o+=a.length),p=k}const l=new Uint8Array(o);let h=0;for(const k of s)l.set(k,h),h+=k.length;return l}},14904:(ue,H,u)=>{u.d(H,{C1:()=>w,mZ:()=>y,cy:()=>M,VR:()=>T,Bj:()=>S});class y extends Error{constructor(I,i=!0){let m,N=!0;typeof i=="boolean"?(m=void 0,N=i):i!=null&&typeof i=="object"&&(m=i.logger,N=i.tryNextLink??!0),super(I),this.name="ProviderError",this.tryNextLink=N,Object.setPrototypeOf(this,y.prototype),m?.debug?.(`@smithy/property-provider ${N?"->":"(!)"} ${I}`)}static from(I,i=!0){return Object.assign(new this(I.message,i),I)}}class w extends y{constructor(I,i=!0){super(I,i),this.name="CredentialsProviderError",Object.setPrototypeOf(this,w.prototype)}}class R extends y{constructor(I,i=!0){super(I,i),this.name="TokenProviderError",Object.setPrototypeOf(this,R.prototype)}}const M=(...E)=>async()=>{if(E.length===0)throw new y("No providers in chain");let I;for(const i of E)try{return await i()}catch(m){if(I=m,m?.tryNextLink)continue;throw m}throw I},T=E=>()=>Promise.resolve(E),S=(E,I,i)=>{let m,N,v,D=!1;const B=async()=>{N||(N=E());try{m=await N,v=!0,D=!1}finally{N=void 0}return m};return I===void 0?async W=>((!v||W?.forceRefresh)&&(m=await B()),m):async W=>((!v||W?.forceRefresh)&&(m=await B()),D?m:i&&!i(m)?(D=!0,m):(I(m)&&await B(),m))}},91551:(ue,H,u)=>{u.d(H,{Kd:()=>T,cS:()=>E,eS:()=>y,jt:()=>w});const y=I=>{let i=I.httpHandler;return{setHttpHandler(m){i=m},httpHandler(){return i},updateHttpClientConfig(m,N){i.updateHttpClientConfig(m,N)},httpHandlerConfigs(){return i.httpHandlerConfigs()}}},w=I=>({httpHandler:I.httpHandler()});var R=u(12251);class M{constructor({name:i,kind:m=FieldPosition.HEADER,values:N=[]}){this.name=i,this.kind=m,this.values=N}add(i){this.values.push(i)}set(i){this.values=i}remove(i){this.values=this.values.filter(m=>m!==i)}toString(){return this.values.map(i=>i.includes(",")||i.includes(" ")?`"${i}"`:i).join(", ")}get(){return this.values}}class T{constructor(i){this.method=i.method||"GET",this.hostname=i.hostname||"localhost",this.port=i.port,this.query=i.query||{},this.headers=i.headers||{},this.body=i.body,this.protocol=i.protocol?i.protocol.slice(-1)!==":"?`${i.protocol}:`:i.protocol:"https:",this.path=i.path?i.path.charAt(0)!=="/"?`/${i.path}`:i.path:"/",this.username=i.username,this.password=i.password,this.fragment=i.fragment}static clone(i){const m=new T({...i,headers:{...i.headers}});return m.query&&(m.query=S(m.query)),m}static isInstance(i){if(!i)return!1;const m=i;return"method"in m&&"protocol"in m&&"hostname"in m&&"path"in m&&typeof m.query=="object"&&typeof m.headers=="object"}clone(){return T.clone(this)}}function S(I){return Object.keys(I).reduce((i,m)=>{const N=I[m];return{...i,[m]:Array.isArray(N)?[...N]:N}},{})}class E{constructor(i){this.statusCode=i.statusCode,this.reason=i.reason,this.headers=i.headers||{},this.body=i.body}static isInstance(i){if(!i)return!1;const m=i;return typeof m.statusCode=="number"&&typeof m.headers=="object"}}},62166:(ue,H,u)=>{u.d(H,{h5:()=>E,S0:()=>S,GQ:()=>N,Qb:()=>i,bV:()=>m});const y=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],w=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],R=["TimeoutError","RequestTimeout","RequestTimeoutException"],M=[500,502,503,504],T=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],S=v=>v.$retryable!==void 0,E=v=>y.includes(v.name),I=v=>v.$metadata?.clockSkewCorrected,i=v=>v.$metadata?.httpStatusCode===429||w.includes(v.name)||v.$retryable?.throttling==!0,m=(v,D=0)=>I(v)||R.includes(v.name)||T.includes(v?.code||"")||M.includes(v.$metadata?.httpStatusCode||0)||v.cause!==void 0&&D<=10&&m(v.cause,D+1),N=v=>{if(v.$metadata?.httpStatusCode!==void 0){const D=v.$metadata.httpStatusCode;return 500<=D&&D<=599&&!m(v)}return!1}},28350:(ue,H,u)=>{u.d(H,{QD:()=>F,Bz:()=>I,p6:()=>X});var y=u(70857),w=u(16928);const R={},M=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",T=()=>{const{HOME:o,USERPROFILE:l,HOMEPATH:h,HOMEDRIVE:k=`C:${w.sep}`}=process.env;if(o)return o;if(l)return l;if(h)return`${k}${h}`;const a=M();return R[a]||(R[a]=(0,y.homedir)()),R[a]},S="AWS_PROFILE",E="default",I=o=>o.profile||process.env[S]||E;var i=u(76982);const m=o=>{const h=createHash("sha1").update(o).digest("hex");return join(getHomeDir(),".aws","sso","cache",`${h}.json`)};var N=u(79896);const{readFile:v}=N.promises,D=async o=>{const l=getSSOTokenFilepath(o),h=await v(l,"utf8");return JSON.parse(h)};var B=u(12251);const W=o=>Object.entries(o).filter(([l])=>{const h=l.indexOf(F);return h===-1?!1:Object.values(B.Ip).includes(l.substring(0,h))}).reduce((l,[h,k])=>{const a=h.indexOf(F),n=h.substring(0,a)===B.Ip.PROFILE?h.substring(a+1):h;return l[n]=k,l},{...o.default&&{default:o.default}}),V="AWS_CONFIG_FILE",ee=()=>process.env[V]||(0,w.join)(T(),".aws","config"),ne="AWS_SHARED_CREDENTIALS_FILE",Ee=()=>process.env[ne]||(0,w.join)(T(),".aws","credentials"),se=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,g=["__proto__","profile __proto__"],L=o=>{const l={};let h,k;for(const a of o.split(/\r?\n/)){const n=a.split(/(^|\s)[;#]/)[0].trim();if(n[0]==="["&&n[n.length-1]==="]"){h=void 0,k=void 0;const c=n.substring(1,n.length-1),A=se.exec(c);if(A){const[,_,,$]=A;Object.values(B.Ip).includes(_)&&(h=[_,$].join(F))}else h=c;if(g.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(h){const c=n.indexOf("=");if(![0,-1].includes(c)){const[A,_]=[n.substring(0,c).trim(),n.substring(c+1).trim()];if(_==="")k=A;else{k&&a.trimStart()===a&&(k=void 0),l[h]=l[h]||{};const $=k?[k,A].join(F):A;l[h][$]=_}}}}return l},{readFile:P}=N.promises,Y={},ae=(o,l)=>((!Y[o]||l?.ignoreCache)&&(Y[o]=P(o,"utf8")),Y[o]),pe=()=>({}),F=".",X=async(o={})=>{const{filepath:l=Ee(),configFilepath:h=ee()}=o,k=T(),a="~/";let n=l;l.startsWith(a)&&(n=(0,w.join)(k,l.slice(2)));let t=h;h.startsWith(a)&&(t=(0,w.join)(k,h.slice(2)));const c=await Promise.all([ae(t,{ignoreCache:o.ignoreCache}).then(L).then(W).catch(pe),ae(n,{ignoreCache:o.ignoreCache}).then(L).catch(pe)]);return{configFile:c[0],credentialsFile:c[1]}},f=o=>Object.entries(o).filter(([l])=>l.startsWith(IniSectionType.SSO_SESSION+CONFIG_PREFIX_SEPARATOR)).reduce((l,[h,k])=>({...l,[h.substring(h.indexOf(CONFIG_PREFIX_SEPARATOR)+1)]:k}),{}),s=()=>({}),d=async(o={})=>slurpFile(o.configFilepath??getConfigFilepath()).then(parseIni).then(getSsoSessionData).catch(s),p=async o=>{const l=await loadSharedConfigFiles(o);return mergeConfigFiles(l.configFile,l.credentialsFile)}},12799:(ue,H,u)=>{u.d(H,{Kj:()=>S,uB:()=>i,N4:()=>it,$H:()=>N,TJ:()=>ge,Ss:()=>Ye,Px:()=>E.Px,J1:()=>v,Mw:()=>Ae,I9:()=>Ge,ET:()=>se,Y0:()=>ae,Xk:()=>pe,lK:()=>F,$6:()=>E.$6,xA:()=>st,rm:()=>Ze,lT:()=>He,Tj:()=>et,t_:()=>_e,uv:()=>ot,xW:()=>A,s:()=>at,jr:()=>Oe});const y=(e,r)=>{const O=[];if(e&&O.push(e),r)for(const x of r)O.push(x);return O},w=(e,r)=>`${e||"anonymous"}${r&&r.length>0?` (a.k.a. ${r.join(",")})`:""}`,R=()=>{let e=[],r=[],O=!1;const x=new Set,J=te=>te.sort((oe,le)=>M[le.step]-M[oe.step]||T[le.priority||"normal"]-T[oe.priority||"normal"]),re=te=>{let oe=!1;const le=Te=>{const Ne=y(Te.name,Te.aliases);if(Ne.includes(te)){oe=!0;for(const fe of Ne)x.delete(fe);return!1}return!0};return e=e.filter(le),r=r.filter(le),oe},de=te=>{let oe=!1;const le=Te=>{if(Te.middleware===te){oe=!0;for(const Ne of y(Te.name,Te.aliases))x.delete(Ne);return!1}return!0};return e=e.filter(le),r=r.filter(le),oe},ce=te=>(e.forEach(oe=>{te.add(oe.middleware,{...oe})}),r.forEach(oe=>{te.addRelativeTo(oe.middleware,{...oe})}),te.identifyOnResolve?.(xe.identifyOnResolve()),te),ye=te=>{const oe=[];return te.before.forEach(le=>{le.before.length===0&&le.after.length===0?oe.push(le):oe.push(...ye(le))}),oe.push(te),te.after.reverse().forEach(le=>{le.before.length===0&&le.after.length===0?oe.push(le):oe.push(...ye(le))}),oe},Ce=(te=!1)=>{const oe=[],le=[],Te={};return e.forEach(fe=>{const Re={...fe,before:[],after:[]};for(const ve of y(Re.name,Re.aliases))Te[ve]=Re;oe.push(Re)}),r.forEach(fe=>{const Re={...fe,before:[],after:[]};for(const ve of y(Re.name,Re.aliases))Te[ve]=Re;le.push(Re)}),le.forEach(fe=>{if(fe.toMiddleware){const Re=Te[fe.toMiddleware];if(Re===void 0){if(te)return;throw new Error(`${fe.toMiddleware} is not found when adding ${w(fe.name,fe.aliases)} middleware ${fe.relation} ${fe.toMiddleware}`)}fe.relation==="after"&&Re.after.push(fe),fe.relation==="before"&&Re.before.push(fe)}}),J(oe).map(ye).reduce((fe,Re)=>(fe.push(...Re),fe),[])},xe={add:(te,oe={})=>{const{name:le,override:Te,aliases:Ne}=oe,fe={step:"initialize",priority:"normal",middleware:te,...oe},Re=y(le,Ne);if(Re.length>0){if(Re.some(ve=>x.has(ve))){if(!Te)throw new Error(`Duplicate middleware name '${w(le,Ne)}'`);for(const ve of Re){const ze=e.findIndex(Ke=>Ke.name===ve||Ke.aliases?.some(Je=>Je===ve));if(ze===-1)continue;const ke=e[ze];if(ke.step!==fe.step||fe.priority!==ke.priority)throw new Error(`"${w(ke.name,ke.aliases)}" middleware with ${ke.priority} priority in ${ke.step} step cannot be overridden by "${w(le,Ne)}" middleware with ${fe.priority} priority in ${fe.step} step.`);e.splice(ze,1)}}for(const ve of Re)x.add(ve)}e.push(fe)},addRelativeTo:(te,oe)=>{const{name:le,override:Te,aliases:Ne}=oe,fe={middleware:te,...oe},Re=y(le,Ne);if(Re.length>0){if(Re.some(ve=>x.has(ve))){if(!Te)throw new Error(`Duplicate middleware name '${w(le,Ne)}'`);for(const ve of Re){const ze=r.findIndex(Ke=>Ke.name===ve||Ke.aliases?.some(Je=>Je===ve));if(ze===-1)continue;const ke=r[ze];if(ke.toMiddleware!==fe.toMiddleware||ke.relation!==fe.relation)throw new Error(`"${w(ke.name,ke.aliases)}" middleware ${ke.relation} "${ke.toMiddleware}" middleware cannot be overridden by "${w(le,Ne)}" middleware ${fe.relation} "${fe.toMiddleware}" middleware.`);r.splice(ze,1)}}for(const ve of Re)x.add(ve)}r.push(fe)},clone:()=>ce(R()),use:te=>{te.applyToStack(xe)},remove:te=>typeof te=="string"?re(te):de(te),removeByTag:te=>{let oe=!1;const le=Te=>{const{tags:Ne,name:fe,aliases:Re}=Te;if(Ne&&Ne.includes(te)){const ve=y(fe,Re);for(const ze of ve)x.delete(ze);return oe=!0,!1}return!0};return e=e.filter(le),r=r.filter(le),oe},concat:te=>{const oe=ce(R());return oe.use(te),oe.identifyOnResolve(O||oe.identifyOnResolve()||(te.identifyOnResolve?.()??!1)),oe},applyToStack:ce,identify:()=>Ce(!0).map(te=>{const oe=te.step??te.relation+" "+te.toMiddleware;return w(te.name,te.aliases)+" - "+oe}),identifyOnResolve(te){return typeof te=="boolean"&&(O=te),O},resolve:(te,oe)=>{for(const le of Ce().map(Te=>Te.middleware).reverse())te=le(te,oe);return O&&console.log(xe.identify()),te}};return xe},M={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},T={high:3,normal:2,low:1};class S{constructor(r){this.config=r,this.middlewareStack=R()}send(r,O,x){const J=typeof O!="function"?O:void 0,re=typeof O=="function"?O:x,de=J===void 0&&this.config.cacheMiddleware===!0;let ce;if(de){this.handlers||(this.handlers=new WeakMap);const ye=this.handlers;ye.has(r.constructor)?ce=ye.get(r.constructor):(ce=r.resolveMiddleware(this.middlewareStack,this.config,J),ye.set(r.constructor,ce))}else delete this.handlers,ce=r.resolveMiddleware(this.middlewareStack,this.config,J);if(re)ce(r).then(ye=>re(null,ye.output),ye=>re(ye)).catch(()=>{});else return ce(r).then(ye=>ye.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var E=u(52218),I=u(12251);class i{constructor(){this.middlewareStack=R()}static classBuilder(){return new m}resolveMiddlewareWithContext(r,O,x,{middlewareFn:J,clientName:re,commandName:de,inputFilterSensitiveLog:ce,outputFilterSensitiveLog:ye,smithyContext:Ce,additionalContext:xe,CommandCtor:te}){for(const fe of J.bind(this)(te,r,O,x))this.middlewareStack.use(fe);const oe=r.concat(this.middlewareStack),{logger:le}=O,Te={logger:le,clientName:re,commandName:de,inputFilterSensitiveLog:ce,outputFilterSensitiveLog:ye,[I.Vf]:{commandInstance:this,...Ce},...xe},{requestHandler:Ne}=O;return oe.resolve(fe=>Ne.handle(fe.request,x||{}),Te)}}class m{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=r=>r,this._outputFilterSensitiveLog=r=>r,this._serializer=null,this._deserializer=null}init(r){this._init=r}ep(r){return this._ep=r,this}m(r){return this._middlewareFn=r,this}s(r,O,x={}){return this._smithyContext={service:r,operation:O,...x},this}c(r={}){return this._additionalContext=r,this}n(r,O){return this._clientName=r,this._commandName=O,this}f(r=x=>x,O=x=>x){return this._inputFilterSensitiveLog=r,this._outputFilterSensitiveLog=O,this}ser(r){return this._serializer=r,this}de(r){return this._deserializer=r,this}build(){const r=this;let O;return O=class extends i{static getEndpointParameterInstructions(){return r._ep}constructor(...[x]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=x??{},r._init(this)}resolveMiddleware(x,J,re){return this.resolveMiddlewareWithContext(x,J,re,{CommandCtor:O,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}}}}const N="***SensitiveInformation***",v=(e,r)=>{for(const O of Object.keys(e)){const x=e[O],J=async function(de,ce,ye){const Ce=new x(de);if(typeof ce=="function")this.send(Ce,ce);else if(typeof ye=="function"){if(typeof ce!="object")throw new Error(`Expected http options but got ${typeof ce}`);this.send(Ce,ce||{},ye)}else return this.send(Ce,ce)},re=(O[0].toLowerCase()+O.slice(1)).replace(/Command$/,"");r.prototype[re]=J}},D=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},B=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Q.warn(K(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const r=e.toLowerCase();if((r==="false"||r==="true")&&Q.warn(K(`Expected boolean, got ${typeof e}: ${e}`)),r==="false")return!1;if(r==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},W=e=>{if(e!=null){if(typeof e=="string"){const r=parseFloat(e);if(!Number.isNaN(r))return String(r)!==String(e)&&Q.warn(K(`Expected number but observed string: ${e}`)),r}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},V=Math.ceil(2**127*(2-2**-23)),ee=e=>{const r=W(e);if(r!==void 0&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0&&Math.abs(r)>V)throw new TypeError(`Expected 32-bit float, got ${e}`);return r},ne=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Ee=null,se=e=>P(e,32),g=e=>P(e,16),L=e=>P(e,8),P=(e,r)=>{const O=ne(e);if(O!==void 0&&Y(O,r)!==O)throw new TypeError(`Expected ${r}-bit integer, got ${e}`);return O},Y=(e,r)=>{switch(r){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ae=(e,r)=>{if(e==null)throw r?new TypeError(`Expected a non-null value for ${r}`):new TypeError("Expected a non-null value");return e},pe=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const r=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${r}: ${e}`)},F=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Q.warn(K(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},X=e=>{if(e==null)return;const r=pe(e),O=Object.entries(r).filter(([,x])=>x!=null).map(([x])=>x);if(O.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(O.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${O} were not null.`);return r},f=e=>W(typeof e=="string"?o(e):e),s=null,d=e=>ee(typeof e=="string"?o(e):e),p=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,o=e=>{const r=e.match(p);if(r===null||r[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},l=e=>typeof e=="string"?n(e):W(e),h=null,k=null,a=e=>typeof e=="string"?n(e):ee(e),n=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},t=e=>ne(typeof e=="string"?o(e):e),c=null,A=e=>se(typeof e=="string"?o(e):e),_=e=>g(typeof e=="string"?o(e):e),$=e=>L(typeof e=="string"?o(e):e),K=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(r=>!r.includes("stackTraceWarning")).join(`
`),Q={warn:console.warn},j=null,ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z(e){const r=e.getUTCFullYear(),O=e.getUTCMonth(),x=e.getUTCDay(),J=e.getUTCDate(),re=e.getUTCHours(),de=e.getUTCMinutes(),ce=e.getUTCSeconds(),ye=J<10?`0${J}`:`${J}`,Ce=re<10?`0${re}`:`${re}`,xe=de<10?`0${de}`:`${de}`,te=ce<10?`0${ce}`:`${ce}`;return`${j[x]}, ${ye} ${ie[O]} ${r} ${Ce}:${xe}:${te} GMT`}const we=null,Fe=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const r=we.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");const[O,x,J,re,de,ce,ye,Ce]=r,xe=strictParseShort(me(x)),te=z(J,"month",1,12),oe=z(re,"day",1,31);return De(xe,te,oe,{hours:de,minutes:ce,seconds:ye,fractionalMilliseconds:Ce})},$e=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_e=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const r=$e.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");const[O,x,J,re,de,ce,ye,Ce,xe]=r,te=_(me(x)),oe=z(J,"month",1,12),le=z(re,"day",1,31),Te=De(te,oe,le,{hours:de,minutes:ce,seconds:ye,fractionalMilliseconds:Ce});return xe.toUpperCase()!="Z"&&Te.setTime(Te.getTime()-he(xe)),Te},Se=null,be=null,Ie=null,Be=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let r=Se.exec(e);if(r){const[O,x,J,re,de,ce,ye,Ce]=r;return De(strictParseShort(me(re)),b(J),z(x,"day",1,31),{hours:de,minutes:ce,seconds:ye,fractionalMilliseconds:Ce})}if(r=be.exec(e),r){const[O,x,J,re,de,ce,ye,Ce]=r;return qe(De(je(re),b(J),z(x,"day",1,31),{hours:de,minutes:ce,seconds:ye,fractionalMilliseconds:Ce}))}if(r=Ie.exec(e),r){const[O,x,J,re,de,ce,ye,Ce]=r;return De(strictParseShort(me(Ce)),b(x),z(J.trimLeft(),"day",1,31),{hours:re,minutes:de,seconds:ce,fractionalMilliseconds:ye})}throw new TypeError("Invalid RFC-7231 date-time value")},Le=e=>{if(e==null)return;let r;if(typeof e=="number")r=e;else if(typeof e=="string")r=strictParseDouble(e);else if(typeof e=="object"&&e.tag===1)r=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(r)||r===1/0||r===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(r*1e3))},De=(e,r,O,x)=>{const J=r-1;return U(e,J,O),new Date(Date.UTC(e,J,O,z(x.hours,"hour",0,23),z(x.minutes,"minute",0,59),z(x.seconds,"seconds",0,60),q(x.fractionalMilliseconds)))},je=e=>{const r=new Date().getUTCFullYear(),O=Math.floor(r/100)*100+strictParseShort(me(e));return O<r?O+100:O},Qe=null,qe=e=>e.getTime()-new Date().getTime()>Qe?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,b=e=>{const r=ie.indexOf(e);if(r<0)throw new TypeError(`Invalid month: ${e}`);return r+1},C=[31,28,31,30,31,30,31,31,30,31,30,31],U=(e,r,O)=>{let x=C[r];if(r===1&&G(e)&&(x=29),O>x)throw new TypeError(`Invalid day for ${ie[r]} in ${e}: ${O}`)},G=e=>e%4===0&&(e%100!==0||e%400===0),z=(e,r,O,x)=>{const J=$(me(e));if(J<O||J>x)throw new TypeError(`${r} must be between ${O} and ${x}, inclusive`);return J},q=e=>e==null?0:d("0."+e)*1e3,he=e=>{const r=e[0];let O=1;if(r=="+")O=1;else if(r=="-")O=-1;else throw new TypeError(`Offset direction, ${r}, must be "+" or "-"`);const x=Number(e.substring(1,3)),J=Number(e.substring(4,6));return O*(x*60+J)*60*1e3},me=e=>{let r=0;for(;r<e.length-1&&e.charAt(r)==="0";)r++;return r===0?e:e.slice(r)};class ge extends Error{constructor(r){super(r.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=r.name,this.$fault=r.$fault,this.$metadata=r.$metadata}static isInstance(r){if(!r)return!1;const O=r;return ge.prototype.isPrototypeOf(O)||Boolean(O.$fault)&&Boolean(O.$metadata)&&(O.$fault==="client"||O.$fault==="server")}static[Symbol.hasInstance](r){if(!r)return!1;const O=r;return this===ge?ge.isInstance(r):ge.isInstance(r)?O.name&&this.name?this.prototype.isPrototypeOf(r)||O.name===this.name:this.prototype.isPrototypeOf(r):!1}}const Ae=(e,r={})=>{Object.entries(r).filter(([,x])=>x!==void 0).forEach(([x,J])=>{(e[x]==null||e[x]==="")&&(e[x]=J)});const O=e.message||e.Message||"UnknownError";return e.message=O,delete e.Message,e},Pe=({output:e,parsedBody:r,exceptionCtor:O,errorCode:x})=>{const J=Me(e),re=J.httpStatusCode?J.httpStatusCode+"":void 0,de=new O({name:r?.code||r?.Code||x||re||"UnknownError",$fault:"client",$metadata:J});throw Ae(de,r)},Oe=e=>({output:r,parsedBody:O,errorCode:x})=>{Pe({output:r,parsedBody:O,exceptionCtor:e,errorCode:x})},Me=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),He=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let We=!1;const Ge=e=>{e&&!We&&parseInt(e.substring(1,e.indexOf(".")))<16&&(We=!0)},Ue=e=>{const r=[];for(const O in I.dB){const x=I.dB[O];e[x]!==void 0&&r.push({algorithmId:()=>x,checksumConstructor:()=>e[x]})}return{_checksumAlgorithms:r,addChecksumAlgorithm(O){this._checksumAlgorithms.push(O)},checksumAlgorithms(){return this._checksumAlgorithms}}},Xe=e=>{const r={};return e.checksumAlgorithms().forEach(O=>{r[O.algorithmId()]=O.checksumConstructor()}),r},nt=e=>{let r=e.retryStrategy;return{setRetryStrategy(O){r=O},retryStrategy(){return r}}},rt=e=>{const r={};return r.retryStrategy=e.retryStrategy(),r},st=e=>({...Ue(e),...nt(e)}),lt=null,ot=e=>({...Xe(e),...rt(e)}),Ze=e=>{const r="#text";for(const O in e)e.hasOwnProperty(O)&&e[O][r]!==void 0?e[O]=e[O][r]:typeof e[O]=="object"&&e[O]!==null&&(e[O]=Ze(e[O]));return e},Ve=function(r){return Object.assign(new String(r),{deserializeJSON(){return JSON.parse(String(r))},toString(){return String(r)},toJSON(){return String(r)}})};Ve.from=e=>e&&typeof e=="object"&&(e instanceof Ve||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ve(String(e)):Ve(JSON.stringify(e)),Ve.fromObject=Ve.from;class it{trace(){}debug(){}info(){}warn(){}error(){}}function et(e,r,O){let x,J,re;if(typeof r>"u"&&typeof O>"u")x={},re=e;else{if(x=e,typeof r=="function")return J=r,re=O,ct(x,J,re);re=r}for(const de of Object.keys(re)){if(!Array.isArray(re[de])){x[de]=re[de];continue}tt(x,null,re,de)}return x}const ft=e=>{const r={};for(const[O,x]of Object.entries(e||{}))r[O]=[,x];return r},at=(e,r)=>{const O={};for(const x in r)tt(O,e,r,x);return O},ct=(e,r,O)=>et(e,Object.entries(O).reduce((x,[J,re])=>(Array.isArray(re)?x[J]=re:typeof re=="function"?x[J]=[r,re()]:x[J]=[r,re],x),{})),tt=(e,r,O,x)=>{if(r!==null){let de=O[x];typeof de=="function"&&(de=[,de]);const[ce=ut,ye=dt,Ce=x]=de;(typeof ce=="function"&&ce(r[Ce])||typeof ce!="function"&&!!ce)&&(e[x]=ye(r[Ce]));return}let[J,re]=O[x];if(typeof re=="function"){let de;const ce=J===void 0&&(de=re())!=null,ye=typeof J=="function"&&!!J(void 0)||typeof J!="function"&&!!J;ce?e[x]=de:ye&&(e[x]=re())}else{const de=J===void 0&&re!=null,ce=typeof J=="function"&&!!J(re)||typeof J!="function"&&!!J;(de||ce)&&(e[x]=re)}},ut=e=>e!=null,dt=e=>e,Ye=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(r=>r!=null).map(Ye);if(typeof e=="object"){const r={};for(const O of Object.keys(e))e[O]!=null&&(r[O]=Ye(e[O]));return r}return e}},12251:(ue,H,u)=>{u.d(H,{dB:()=>M,Ue:()=>R,Ip:()=>N,Vf:()=>m});var y;(function(D){D.HEADER="header",D.QUERY="query"})(y||(y={}));var w;(function(D){D.HEADER="header",D.QUERY="query"})(w||(w={}));var R;(function(D){D.HTTP="http",D.HTTPS="https"})(R||(R={}));var M;(function(D){D.MD5="md5",D.CRC32="crc32",D.CRC32C="crc32c",D.SHA1="sha1",D.SHA256="sha256"})(M||(M={}));const T=D=>{const B=[];return D.sha256!==void 0&&B.push({algorithmId:()=>M.SHA256,checksumConstructor:()=>D.sha256}),D.md5!=null&&B.push({algorithmId:()=>M.MD5,checksumConstructor:()=>D.md5}),{_checksumAlgorithms:B,addChecksumAlgorithm(W){this._checksumAlgorithms.push(W)},checksumAlgorithms(){return this._checksumAlgorithms}}},S=D=>{const B={};return D.checksumAlgorithms().forEach(W=>{B[W.algorithmId()]=W.checksumConstructor()}),B},E=D=>({...getChecksumConfiguration(D)}),I=D=>({...resolveChecksumRuntimeConfig(D)});var i;(function(D){D[D.HEADER=0]="HEADER",D[D.TRAILER=1]="TRAILER"})(i||(i={}));const m="__smithy_context";var N;(function(D){D.PROFILE="profile",D.SSO_SESSION="sso-session",D.SERVICES="services"})(N||(N={}));var v;(function(D){D.HTTP_0_9="http/0.9",D.HTTP_1_0="http/1.0",D.TDS_8_0="tds/8.0"})(v||(v={}))},89465:(ue,H,u)=>{u.d(H,{D:()=>w});function y(R){const M={};if(R=R.replace(/^\?/,""),R)for(const T of R.split("&")){let[S,E=null]=T.split("=");S=decodeURIComponent(S),E&&(E=decodeURIComponent(E)),S in M?Array.isArray(M[S])?M[S].push(E):M[S]=[M[S],E]:M[S]=E}return M}const w=R=>{if(typeof R=="string")return w(new URL(R));const{hostname:M,pathname:T,port:S,protocol:E,search:I}=R;let i;return I&&(i=y(I)),{hostname:M,port:S?parseInt(S):void 0,protocol:E,path:T,query:i}}},84132:(ue,H,u)=>{u.d(H,{E:()=>R,n:()=>T});var y=u(36866);const w=/^[A-Za-z0-9+/]*={0,2}$/,R=S=>{if(S.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!w.exec(S))throw new TypeError("Invalid base64 string.");const E=(0,y.s)(S,"base64");return new Uint8Array(E.buffer,E.byteOffset,E.byteLength)};var M=u(76053);const T=S=>{let E;if(typeof S=="string"?E=(0,M.ar)(S):E=S,typeof E!="object"||typeof E.byteOffset!="number"||typeof E.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,y.Q)(E.buffer,E.byteOffset,E.byteLength).toString("base64")}},52521:(ue,H,u)=>{u.d(H,{n:()=>w});var y=u(79896);const w=R=>{if(!R)return 0;if(typeof R=="string")return Buffer.byteLength(R);if(typeof R.byteLength=="number")return R.byteLength;if(typeof R.size=="number")return R.size;if(typeof R.start=="number"&&typeof R.end=="number")return R.end+1-R.start;if(typeof R.path=="string"||Buffer.isBuffer(R.path))return(0,y.lstatSync)(R.path).size;if(typeof R.fd=="number")return(0,y.fstatSync)(R.fd).size;throw new Error(`Body Length computation failed for ${R}`)}},36866:(ue,H,u)=>{u.d(H,{Q:()=>M,s:()=>T});var y=u(15367),w=u(20181),R=u.n(w);const M=(S,E=0,I=S.byteLength-E)=>{if(!(0,y.m)(S))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof S} (${S})`);return w.Buffer.from(S,E,I)},T=(S,E)=>{if(typeof S!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof S} (${S})`);return E?w.Buffer.from(S,E):w.Buffer.from(S)}},46793:(ue,H,u)=>{u.d(H,{I:()=>D});var y=u(54855),w=u(83995),R=u(14904);const M="AWS_EXECUTION_ENV",T="AWS_REGION",S="AWS_DEFAULT_REGION",E="AWS_EC2_METADATA_DISABLED",I=["in-region","cross-region","mobile","standard","legacy"],i="/latest/meta-data/placement/region",m="AWS_DEFAULTS_MODE",N="defaults_mode",v={environmentVariableSelector:V=>V[m],configFileSelector:V=>V[N],default:"legacy"},D=({region:V=(0,w.Z)(y.GG),defaultsMode:ee=(0,w.Z)(v)}={})=>(0,R.Bj)(async()=>{const ne=typeof ee=="function"?await ee():ee;switch(ne?.toLowerCase()){case"auto":return B(V);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(ne?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${I.join(", ")}, got ${ne}`)}}),B=async V=>{if(V){const ee=typeof V=="function"?await V():V,ne=await W();return ne?ee===ne?"in-region":"cross-region":"standard"}return"standard"},W=async()=>{if(process.env[M]&&(process.env[T]||process.env[S]))return process.env[T]??process.env[S];if(!process.env[E])try{const{getInstanceMetadataEndpoint:V,httpRequest:ee}=await u.e(900).then(u.bind(u,8900)),ne=await V();return(await ee({...ne,path:i})).toString()}catch{}}},18393:(ue,H,u)=>{u.d(H,{kS:()=>y,mw:()=>S,oX:()=>R,X8:()=>T,sO:()=>k});class y{constructor({size:n,params:t}){this.data=new Map,this.parameters=[],this.capacity=n??50,t&&(this.parameters=t)}get(n,t){const c=this.hash(n);if(c===!1)return t();if(!this.data.has(c)){if(this.data.size>this.capacity+10){const A=this.data.keys();let _=0;for(;;){const{value:$,done:K}=A.next();if(this.data.delete($),K||++_>10)break}}this.data.set(c,t())}return this.data.get(c)}size(){return this.data.size}hash(n){let t="";const{parameters:c}=this;if(c.length===0)return!1;for(const A of c){const _=String(n[A]??"");if(_.includes("|;"))return!1;t+=_+"|;"}return t}}const w=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),R=a=>w.test(a)||a.startsWith("[")&&a.endsWith("]"),M=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),T=(a,n=!1)=>{if(!n)return M.test(a);const t=a.split(".");for(const c of t)if(!T(c))return!1;return!0},S={},E="endpoints";function I(a){return typeof a!="object"||a==null?a:"ref"in a?`$${I(a.ref)}`:"fn"in a?`${a.fn}(${(a.argv||[]).map(I).join(", ")})`:JSON.stringify(a,null,2)}class i extends Error{constructor(n){super(n),this.name="EndpointError"}}const m=(a,n)=>a===n,N=a=>{const n=a.split("."),t=[];for(const c of n){const A=c.indexOf("[");if(A!==-1){if(c.indexOf("]")!==c.length-1)throw new i(`Path: '${a}' does not end with ']'`);const _=c.slice(A+1,-1);if(Number.isNaN(parseInt(_)))throw new i(`Invalid array index: '${_}' in path: '${a}'`);A!==0&&t.push(c.slice(0,A)),t.push(_)}else t.push(c)}return t},v=(a,n)=>N(n).reduce((t,c)=>{if(typeof t!="object")throw new i(`Index '${c}' in '${n}' not found in '${JSON.stringify(a)}'`);return Array.isArray(t)?t[parseInt(c)]:t[c]},a),D=a=>a!=null,B=a=>!a;var W=u(12251);const V={[W.Ue.HTTP]:80,[W.Ue.HTTPS]:443},g={booleanEquals:m,getAttr:v,isSet:D,isValidHostLabel:T,not:B,parseURL:a=>{const n=(()=>{try{if(a instanceof URL)return a;if(typeof a=="object"&&"hostname"in a){const{hostname:we,port:Fe,protocol:$e="",path:_e="",query:Se={}}=a,be=new URL(`${$e}//${we}${Fe?`:${Fe}`:""}${_e}`);return be.search=Object.entries(Se).map(([Ie,Be])=>`${Ie}=${Be}`).join("&"),be}return new URL(a)}catch{return null}})();if(!n)return console.error(`Unable to parse ${JSON.stringify(a)} as a whatwg URL.`),null;const t=n.href,{host:c,hostname:A,pathname:_,protocol:$,search:K}=n;if(K)return null;const Q=$.slice(0,-1);if(!Object.values(W.Ue).includes(Q))return null;const j=R(A),ie=t.includes(`${c}:${V[Q]}`)||typeof a=="string"&&a.includes(`${c}:${V[Q]}`),Z=`${c}${ie?`:${V[Q]}`:""}`;return{scheme:Q,authority:Z,path:_,normalizedPath:_.endsWith("/")?_:`${_}/`,isIp:j}},stringEquals:(a,n)=>a===n,substring:(a,n,t,c)=>n>=t||a.length<t?null:c?a.substring(a.length-t,a.length-n):a.substring(n,t),uriEncode:a=>encodeURIComponent(a).replace(/[!*'()]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)},L=(a,n)=>{const t=[],c={...n.endpointParams,...n.referenceRecord};let A=0;for(;A<a.length;){const _=a.indexOf("{",A);if(_===-1){t.push(a.slice(A));break}t.push(a.slice(A,_));const $=a.indexOf("}",_);if($===-1){t.push(a.slice(_));break}a[_+1]==="{"&&a[$+1]==="}"&&(t.push(a.slice(_+1,$)),A=$+2);const K=a.substring(_+1,$);if(K.includes("#")){const[Q,j]=K.split("#");t.push(v(c[Q],j))}else t.push(c[K]);A=$+1}return t.join("")},P=({ref:a},n)=>({...n.endpointParams,...n.referenceRecord})[a],Y=(a,n,t)=>{if(typeof a=="string")return L(a,t);if(a.fn)return ae(a,t);if(a.ref)return P(a,t);throw new i(`'${n}': ${String(a)} is not a string, function or reference.`)},ae=({fn:a,argv:n},t)=>{const c=n.map(_=>["boolean","number"].includes(typeof _)?_:Y(_,"arg",t)),A=a.split(".");return A[0]in S&&A[1]!=null?S[A[0]][A[1]](...c):g[a](...c)},pe=({assign:a,...n},t)=>{if(a&&a in t.referenceRecord)throw new i(`'${a}' is already defined in Reference Record.`);const c=ae(n,t);return t.logger?.debug?.(`${E} evaluateCondition: ${I(n)} = ${I(c)}`),{result:c===""?!0:!!c,...a!=null&&{toAssign:{name:a,value:c}}}},F=(a=[],n)=>{const t={};for(const c of a){const{result:A,toAssign:_}=pe(c,{...n,referenceRecord:{...n.referenceRecord,...t}});if(!A)return{result:A};_&&(t[_.name]=_.value,n.logger?.debug?.(`${E} assign: ${_.name} := ${I(_.value)}`))}return{result:!0,referenceRecord:t}},X=(a,n)=>Object.entries(a).reduce((t,[c,A])=>({...t,[c]:A.map(_=>{const $=Y(_,"Header value entry",n);if(typeof $!="string")throw new i(`Header '${c}' value '${$}' is not a string`);return $})}),{}),f=(a,n)=>{if(Array.isArray(a))return a.map(t=>f(t,n));switch(typeof a){case"string":return L(a,n);case"object":if(a===null)throw new i(`Unexpected endpoint property: ${a}`);return s(a,n);case"boolean":return a;default:throw new i(`Unexpected endpoint property type: ${typeof a}`)}},s=(a,n)=>Object.entries(a).reduce((t,[c,A])=>({...t,[c]:f(A,n)}),{}),d=(a,n)=>{const t=Y(a,"Endpoint URL",n);if(typeof t=="string")try{return new URL(t)}catch(c){throw console.error(`Failed to construct URL with ${t}`,c),c}throw new i(`Endpoint URL must be a string, got ${typeof t}`)},p=(a,n)=>{const{conditions:t,endpoint:c}=a,{result:A,referenceRecord:_}=F(t,n);if(!A)return;const $={...n,referenceRecord:{...n.referenceRecord,..._}},{url:K,properties:Q,headers:j}=c;return n.logger?.debug?.(`${E} Resolving endpoint from template: ${I(c)}`),{...j!=null&&{headers:X(j,$)},...Q!=null&&{properties:s(Q,$)},url:d(K,$)}},o=(a,n)=>{const{conditions:t,error:c}=a,{result:A,referenceRecord:_}=F(t,n);if(!!A)throw new i(Y(c,"Error",{...n,referenceRecord:{...n.referenceRecord,..._}}))},l=(a,n)=>{const{conditions:t,rules:c}=a,{result:A,referenceRecord:_}=F(t,n);if(!!A)return h(c,{...n,referenceRecord:{...n.referenceRecord,..._}})},h=(a,n)=>{for(const t of a)if(t.type==="endpoint"){const c=p(t,n);if(c)return c}else if(t.type==="error")o(t,n);else if(t.type==="tree"){const c=l(t,n);if(c)return c}else throw new i(`Unknown endpoint rule: ${t}`);throw new i("Rules evaluation failed")},k=(a,n)=>{const{endpointParams:t,logger:c}=n,{parameters:A,rules:_}=a;n.logger?.debug?.(`${E} Initial EndpointParams: ${I(t)}`);const $=Object.entries(A).filter(([,j])=>j.default!=null).map(([j,ie])=>[j,ie.default]);if($.length>0)for(const[j,ie]of $)t[j]=t[j]??ie;const K=Object.entries(A).filter(([,j])=>j.required).map(([j])=>j);for(const j of K)if(t[j]==null)throw new i(`Missing required parameter: '${j}'`);const Q=h(_,{endpointParams:t,logger:c,referenceRecord:{}});return n.logger?.debug?.(`${E} Resolved endpoint: ${I(Q)}`),Q}},4444:(ue,H,u)=>{u.d(H,{a:()=>R,n:()=>M});const y={},w={};for(let T=0;T<256;T++){let S=T.toString(16).toLowerCase();S.length===1&&(S=`0${S}`),y[T]=S,w[S]=T}function R(T){if(T.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const S=new Uint8Array(T.length/2);for(let E=0;E<T.length;E+=2){const I=T.slice(E,E+2).toLowerCase();if(I in w)S[E/2]=w[I];else throw new Error(`Cannot decode unrecognized sequence ${I} as hexadecimal`)}return S}function M(T){let S="";for(let E=0;E<T.byteLength;E++)S+=y[T[E]];return S}},44487:(ue,H,u)=>{u.d(H,{u:()=>w,t:()=>R});var y=u(12251);const w=M=>M[y.Vf]||(M[y.Vf]={}),R=M=>{if(typeof M=="function")return M;const T=Promise.resolve(M);return()=>T}},8275:(ue,H,u)=>{u.d(H,{Y:()=>ne,Gz:()=>w,bp:()=>S,L0:()=>R,QJ:()=>T,Df:()=>i,l5:()=>D,G8:()=>E,XP:()=>v,ok:()=>B,XS:()=>m,cm:()=>y,ru:()=>ee,jh:()=>I,Rn:()=>N});var y;(function(se){se.STANDARD="standard",se.ADAPTIVE="adaptive"})(y||(y={}));const w=3,R=y.STANDARD;var M=u(62166);class T{constructor(g){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=g?.beta??.7,this.minCapacity=g?.minCapacity??1,this.minFillRate=g?.minFillRate??.5,this.scaleConstant=g?.scaleConstant??.4,this.smooth=g?.smooth??.8;const L=this.getCurrentTimeInSeconds();this.lastThrottleTime=L,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(g){if(!!this.enabled){if(this.refillTokenBucket(),g>this.currentCapacity){const L=(g-this.currentCapacity)/this.fillRate*1e3;await new Promise(P=>T.setTimeoutFn(P,L))}this.currentCapacity=this.currentCapacity-g}}refillTokenBucket(){const g=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=g;return}const L=(g-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+L),this.lastTimestamp=g}updateClientSendingRate(g){let L;if(this.updateMeasuredRate(),(0,M.Qb)(g)){const Y=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=Y,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),L=this.cubicThrottle(Y),this.enableTokenBucket()}else this.calculateTimeWindow(),L=this.cubicSuccess(this.getCurrentTimeInSeconds());const P=Math.min(L,2*this.measuredTxRate);this.updateTokenBucketRate(P)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(g){return this.getPrecise(g*this.beta)}cubicSuccess(g){return this.getPrecise(this.scaleConstant*Math.pow(g-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(g){this.refillTokenBucket(),this.fillRate=Math.max(g,this.minFillRate),this.maxCapacity=Math.max(g,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const g=this.getCurrentTimeInSeconds(),L=Math.floor(g*2)/2;if(this.requestCount++,L>this.lastTxRateBucket){const P=this.requestCount/(L-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(P*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=L}}getPrecise(g){return parseFloat(g.toFixed(8))}}T.setTimeoutFn=setTimeout;const S=100,E=20*1e3,I=500,i=500,m=5,N=10,v=1,D="amz-sdk-invocation-id",B="amz-sdk-request",W=()=>{let se=S;return{computeNextBackoffDelay:P=>Math.floor(Math.min(E,Math.random()*2**P*se)),setDelayBase:P=>{se=P}}},V=({retryDelay:se,retryCount:g,retryCost:L})=>({getRetryCount:()=>g,getRetryDelay:()=>Math.min(E,se),getRetryCost:()=>L});class ee{constructor(g){this.maxAttempts=g,this.mode=y.STANDARD,this.capacity=i,this.retryBackoffStrategy=W(),this.maxAttemptsProvider=typeof g=="function"?g:async()=>g}async acquireInitialRetryToken(g){return V({retryDelay:S,retryCount:0})}async refreshRetryTokenForRetry(g,L){const P=await this.getMaxAttempts();if(this.shouldRetry(g,L,P)){const Y=L.errorType;this.retryBackoffStrategy.setDelayBase(Y==="THROTTLING"?I:S);const ae=this.retryBackoffStrategy.computeNextBackoffDelay(g.getRetryCount()),pe=L.retryAfterHint?Math.max(L.retryAfterHint.getTime()-Date.now()||0,ae):ae,F=this.getCapacityCost(Y);return this.capacity-=F,V({retryDelay:pe,retryCount:g.getRetryCount()+1,retryCost:F})}throw new Error("No retry token available")}recordSuccess(g){this.capacity=Math.max(i,this.capacity+(g.getRetryCost()??v))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${w}`),w}}shouldRetry(g,L,P){return g.getRetryCount()+1<P&&this.capacity>=this.getCapacityCost(L.errorType)&&this.isRetryableError(L.errorType)}getCapacityCost(g){return g==="TRANSIENT"?N:m}isRetryableError(g){return g==="THROTTLING"||g==="TRANSIENT"}}class ne{constructor(g,L){this.maxAttemptsProvider=g,this.mode=y.ADAPTIVE;const{rateLimiter:P}=L??{};this.rateLimiter=P??new T,this.standardRetryStrategy=new ee(g)}async acquireInitialRetryToken(g){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(g)}async refreshRetryTokenForRetry(g,L){return this.rateLimiter.updateClientSendingRate(L),this.standardRetryStrategy.refreshRetryTokenForRetry(g,L)}recordSuccess(g){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(g)}}class Ee extends ee{constructor(g,L=S){super(typeof g=="function"?g:async()=>g),typeof L=="number"?this.computeNextBackoffDelay=()=>L:this.computeNextBackoffDelay=L}async refreshRetryTokenForRetry(g,L){const P=await super.refreshRetryTokenForRetry(g,L);return P.getRetryDelay=()=>this.computeNextBackoffDelay(P.getRetryCount()),P}}},57627:(ue,H,u)=>{u.d(H,{o:()=>y});const y=R=>encodeURIComponent(R).replace(/[!'()*]/g,w),w=R=>`%${R.charCodeAt(0).toString(16).toUpperCase()}`},76053:(ue,H,u)=>{u.d(H,{ar:()=>w,Fo:()=>R,Pq:()=>M});var y=u(36866);const w=T=>{const S=(0,y.s)(T,"utf8");return new Uint8Array(S.buffer,S.byteOffset,S.byteLength/Uint8Array.BYTES_PER_ELEMENT)},R=T=>typeof T=="string"?w(T):ArrayBuffer.isView(T)?new Uint8Array(T.buffer,T.byteOffset,T.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(T),M=T=>{if(typeof T=="string")return T;if(typeof T!="object"||typeof T.byteOffset!="number"||typeof T.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,y.Q)(T.buffer,T.byteOffset,T.byteLength).toString("utf8")}},89474:ue=>{ue.exports={rE:"3.758.0"}}};
